{"version":3,"file":null,"sources":["../src/worker/worker.js"],"sourcesContent":["/* globals Firebase, CryptoJS, setImmediate, setInterval, self */\n\nconst fireworkers = [];\nlet simulationQueue = Promise.resolve(), consoleIntercepted = false, simulationConsoleLogs;\n\n\nclass LocalStorage {\n  constructor() {\n    this._items = [];\n    this._pendingItems = [];\n    this._initialized = false;\n    this._flushPending = this.flushPending.bind(this);\n  }\n\n  init(items) {\n    if (!this._initialized) {\n      this._items = items;\n      this._initialized = true;\n    }\n  }\n\n  _update(item) {\n    if (!this._pendingItems.length) setImmediate(this._flushPending);\n    this._pendingItems.push(item);\n  }\n\n  flushPending() {\n    if (!fireworkers.length) return;\n    fireworkers[0]._send({msg: 'updateLocalStorage', items: this._pendingItems});\n    this._pendingItems = [];\n  }\n\n  get length() {return this._items.length;}\n\n  key(n) {\n    return this._items[n].key;\n  }\n\n  getItem(key) {\n    for (let item of this._items) {\n      if (item.key === key) return item.value;\n    }\n    return null;\n  }\n\n  setItem(key, value) {\n    let targetItem;\n    for (let item of this._items) {\n      if (item.key === key) {\n        targetItem = item;\n        item.value = value;\n        break;\n      }\n    }\n    if (!targetItem) {\n      targetItem = {key, value};\n      this._items.push(targetItem);\n    }\n    this._update(targetItem);\n  }\n\n  removeItem(key) {\n    for (let i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        this._items.splice(i, 1);\n        this._update({key, value: null});\n        break;\n      }\n    }\n  }\n\n  clear() {\n    for (let item in this._items) {\n      this._update({key: item.key, value: null});\n    }\n    this._items = [];\n  }\n}\n\nself.localStorage = new LocalStorage();\n\n\nclass Fireworker {\n  constructor(port) {\n    this.ping();\n    this._port = port;\n    this._callbacks = {};\n    this._messages = [];\n    this._flushMessageQueue = this._flushMessageQueue.bind(this);\n    port.onmessage = this._receive.bind(this);\n  }\n\n  init({storage, url}) {\n    if (storage) self.localStorage.init(storage);\n    if (url) new Firebase(url);\n    return {\n      exposedFunctionNames: Object.keys(Fireworker._exposed),\n      firebaseSdkVersion: Firebase.SDK_VERSION\n    };\n  }\n\n  destroy() {\n    for (let key in this._callbacks) {\n      const callback = this._callbacks[key];\n      if (callback.cancel) callback.cancel();\n    }\n    this._callbacks = {};\n    this._port.onmessage = null;\n    this._messages = [];\n    const k = fireworkers.indexOf(this);\n    if (k >= 0) fireworkers[k] = null;\n  }\n\n  ping() {\n    this.lastTouched = Date.now();\n  }\n\n  bounceConnection() {\n    Firebase.goOffline();\n    Firebase.goOnline();\n  }\n\n  _receive(event) {\n    Fireworker._firstMessageReceived = true;\n    this.lastTouched = Date.now();\n    for (let message of event.data) this._receiveMessage(message);\n  }\n\n  _receiveMessage(message) {\n    let promise;\n    try {\n      const fn = this[message.msg];\n      if (typeof fn !== 'function') throw new Error('Unknown message: ' + message.msg);\n      promise = Promise.resolve(fn.call(this, message));\n    } catch(e) {\n      promise = Promise.reject(e);\n    }\n    if (!message.oneWay) {\n      this._send({msg: 'acknowledge', id: message.id});\n      promise.then(result => {\n        this._send({msg: 'resolve', id: message.id, result: result});\n      }, error => {\n        this._send({msg: 'reject', id: message.id, error: errorToJson(error)});\n      });\n    }\n  }\n\n  _send(message) {\n    if (!this._messages.length) setImmediate(this._flushMessageQueue);\n    this._messages.push(message);\n  }\n\n  _flushMessageQueue() {\n    this._port.postMessage(this._messages);\n    this._messages = [];\n  }\n\n  call({name, args}) {\n    try {\n      return Promise.resolve(Fireworker._exposed[name].apply(null, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n  authWithCustomToken({url, authToken, options}) {\n    return createRef(url).authWithCustomToken(authToken, options);\n  }\n\n  authAnonymously({url, options}) {\n    return createRef(url).authAnonymously(options);\n  }\n\n  authWithOAuthToken({url, provider, credentials, options}) {\n    return createRef(url).authWithOAuthToken(provider, credentials, options);\n  }\n\n  unauth({url}) {\n    return createRef(url).unauth();\n  }\n\n  onAuth({url, callbackId}) {\n    const authCallback = this._callbacks[callbackId] = this._onAuthCallback.bind(this, callbackId);\n    authCallback.cancel = this._offAuth.bind(this, url, authCallback);\n    createRef(url).onAuth(authCallback);\n  }\n\n  _offAuth(url, authCallback) {\n    createRef(url).offAuth(authCallback);\n  }\n\n  _onAuthCallback(callbackId, auth) {\n    this._send({msg: 'callback', id: callbackId, args: [auth]});\n  }\n\n  set({url, value}) {\n    return createRef(url).set(value);\n  }\n\n  update({url, value}) {\n    return createRef(url).update(value);\n  }\n\n  on({listenerKey, url, terms, eventType, callbackId, options}) {\n    options = options || {};\n    options.orderChildren = false;\n    if (terms) {\n      for (let term of terms) {\n        if (term[0] === 'orderByChild' || term[0] === 'orderByValue') {\n          options.orderChildren = true;\n          break;\n        }\n      }\n    }\n    const snapshotCallback = this._callbacks[callbackId] =\n      this._onSnapshotCallback.bind(this, callbackId, options);\n    snapshotCallback.listenerKey = listenerKey;\n    snapshotCallback.eventType = eventType;\n    snapshotCallback.cancel = this.off.bind(this, {listenerKey, url, terms, eventType, callbackId});\n    const cancelCallback = this._onCancelCallback.bind(this, callbackId);\n    createRef(url, terms).on(eventType, snapshotCallback, cancelCallback);\n    options.skipCurrent = false;\n  }\n\n  off({listenerKey, url, terms, eventType, callbackId}) {\n    let snapshotCallback;\n    if (callbackId) {\n      // Callback IDs will not be reused across on() calls, so it's safe to just delete it.\n      snapshotCallback = this._callbacks[callbackId];\n      delete this._callbacks[callbackId];\n    } else {\n      for (let key of Object.keys(this._callbacks)) {\n        if (!this._callbacks.hasOwnProperty(key)) continue;\n        const callback = this._callbacks[key];\n        if (callback.listenerKey === listenerKey &&\n            (!eventType || callback.eventType === eventType)) {\n          delete this._callbacks[key];\n        }\n      }\n    }\n    createRef(url, terms).off(eventType, snapshotCallback);\n  }\n\n  _onSnapshotCallback(callbackId, options, snapshot) {\n    if (options.skipCurrent || options.skipCallback) return;\n    this._send({\n      msg: 'callback', id: callbackId, args: [null, snapshotToJson(snapshot, options)]\n    });\n  }\n\n  _onCancelCallback(callbackId, error) {\n    delete this._callbacks[callbackId];\n    this._send({msg: 'callback', id: callbackId, args: [errorToJson(error)]});\n  }\n\n  once({url, terms, eventType, options}) {\n    return createRef(url, terms).once(eventType).then(\n      snapshot => snapshotToJson(snapshot, options));\n  }\n\n  transaction({url, oldHash, newValue, options}) {\n    const ref = createRef(url);\n    let stale, currentValue, currentHash;\n\n    return ref.transaction(value => {\n      currentValue = value;\n      currentHash = hashJson(value);\n      stale = oldHash !== currentHash;\n      if (stale) return;\n      if (newValue === undefined && options.safeAbort) return value;\n      return newValue;\n    }, undefined, options.applyLocally).then(result => {\n      if (stale) {\n        return {stale, value: currentValue, hash: currentHash};\n      } else {\n        return {\n          stale: false, committed: result.committed, snapshotJson: snapshotToJson(result.snapshot)\n        };\n      }\n    }, error => {\n      if (options.nonsequential && error.message === 'set') {\n        return ref.once('value').then(\n          value => ({stale: true, value: value, hash: hashJson(value)}));\n      }\n      return Promise.reject(error);\n    });\n  }\n\n  onDisconnect({url, method, value}) {\n    const onDisconnect = createRef(url).onDisconnect();\n    return onDisconnect[method].call(onDisconnect, value);\n  }\n\n  simulate({token, method, url, args}) {\n    interceptConsoleLog();\n    let simulatedFirebase;\n    return (simulationQueue = simulationQueue.catch(() => {}).then(() => {\n      simulationConsoleLogs = [];\n      simulatedFirebase = createRef(url, null, 'permission_denied_simulator');\n      simulatedFirebase.unauth();\n      return simulatedFirebase.authWithCustomToken(token, function() {}, {remember: 'none'});\n    }).then(() => {\n      return simulatedFirebase[method].apply(simulatedFirebase, args);\n    }).then(() => {\n      return null;\n    }, e => {\n      const code = e.code || e.message;\n      if (code && code.toLowerCase() === 'permission_denied') {\n        return simulationConsoleLogs.join('\\n');\n      } else {\n        return 'Got a different error in simulation: ' + e;\n      }\n    }));\n  }\n\n  static expose(fn, name) {\n    name = name || fn.name;\n    if (!name) throw new Error('Cannot expose a function with no name: ' + fn);\n    if (Fireworker._exposed.hasOwnProperty(name)) {\n      throw new Error(`Function ${name}() already exposed`);\n    }\n    if (Fireworker._firstMessageReceived) {\n      throw new Error('Too late to expose function, worker in use');\n    }\n    Fireworker._exposed[name] = fn;\n  }\n}\n\nFireworker._exposed = {};\nFireworker._firstMessageReceived = false;\n\n\nfunction interceptConsoleLog() {\n  if (consoleIntercepted) return;\n  const originalLog = console.log;\n  let lastTestIndex;\n  console.log = function() {\n    let message = Array.prototype.join.call(arguments, ' ');\n    if (!/^(FIREBASE: \\n?)+/.test(message)) return originalLog.apply(console, arguments);\n    message = message\n      .replace(/^(FIREBASE: \\n?)+/, '')\n      .replace(/^\\s+([^.]*):(?:\\.(read|write|validate):)?.*/g, function(match, g1, g2) {\n        g2 = g2 || 'read';\n        return ' ' + g2 + ' ' + g1;\n      });\n    if (/^\\s+/.test(message)) {\n      const match = message.match(/^\\s+=> (true|false)/);\n      if (match) {\n        simulationConsoleLogs[lastTestIndex] =\n          (match[1] === 'true' ? ' \\u2713' : ' \\u2717') + simulationConsoleLogs[lastTestIndex];\n        lastTestIndex = undefined;\n      } else {\n        if (lastTestIndex === simulationConsoleLogs.length - 1) simulationConsoleLogs.pop();\n        simulationConsoleLogs.push(message);\n        lastTestIndex = simulationConsoleLogs.length - 1;\n      }\n    } else if (/^\\d+:\\d+: /.test(message)) {\n      simulationConsoleLogs.push('   ' + message);\n    } else {\n      if (lastTestIndex === simulationConsoleLogs.length - 1) simulationConsoleLogs.pop();\n      simulationConsoleLogs.push(message);\n      lastTestIndex = undefined;\n    }\n  };\n  consoleIntercepted = true;\n}\n\nfunction errorToJson(error) {\n  const json = {name: error.name};\n  const propertyNames = Object.getOwnPropertyNames(error);\n  for (let propertyName of propertyNames) {\n    json[propertyName] = error[propertyName];\n  }\n  return json;\n}\n\nfunction snapshotToJson(snapshot, options) {\n  const url = snapshot.ref().toString();\n  if (options && options.omitValue) {\n    return {url, exists: snapshot.exists(), hasChildren: snapshot.hasChildren()};\n  } else {\n    try {\n      const value = snapshot.val();\n      let childrenKeys;\n      if (options && options.orderChildren && typeof value === 'object') {\n        for (let key in value) {\n          if (!value.hasOwnProperty(key)) continue;\n          // Non-enumerable properties won't be transmitted when sending.\n          Object.defineProperty(value[key], '$key', {value: key});\n        }\n        childrenKeys = [];\n        snapshot.forEach(child => {childrenKeys.push(child.$key);});\n      }\n      return {url, value, childrenKeys};\n    } catch (e) {\n      return {\n        url, exists: snapshot.exists(), hasChildren: snapshot.hasChildren(),\n        valueError: errorToJson(e)\n      };\n    }\n  }\n}\n\nfunction createRef(url, terms, context) {\n  try {\n    let ref = new Firebase(url, context);\n    if (terms) {\n      for (let term of terms) ref = ref[term[0]].apply(ref, term.slice(1));\n    }\n    return ref;\n  } catch (e) {\n    e.extra = {url, terms, context};\n    throw e;\n  }\n}\n\nfunction hashJson(json) {\n  if (json === null) return null;\n  const sha1 = CryptoJS.algo.SHA1.create();\n  _hashJson(json, sha1);\n  return 'sha1:' + sha1.finalize().toString();\n}\n\nfunction _hashJson(json, sha1) {\n  let type = typeof json;\n  if (type === 'object') {\n    if (json === null) type = 'null';\n    else if (Array.isArray(json)) type = 'array';\n    else if (json instanceof Boolean) type = 'boolean';\n    else if (json instanceof Number) type = 'number';\n    else if (json instanceof String) type = 'string';\n  }\n  switch (type) {\n    case 'undefined': sha1.update('u'); break;\n    case 'null': sha1.update('n'); break;\n    case 'boolean': sha1.update(json ? 't' : 'f'); break;\n    case 'number': sha1.update('x' + json); break;\n    case 'string': sha1.update('s' + json); break;\n    case 'array':\n      sha1.update('[');\n      for (let i = 0; i < json.length; i++) _hashJson(json[i], sha1);\n      sha1.update(']');\n      break;\n    case 'object':\n      sha1.update('{');\n      const keys = Object.keys(json);\n      keys.sort();\n      for (let i = 0; i < keys.length; i++) _hashJson(json[keys[i]], sha1);\n      sha1.update('}');\n      break;\n    default:\n      throw new Error(`Unable to hash non-JSON data of type ${type}: ${json}`);\n  }\n}\n\nfunction acceptConnections() {\n  if (typeof onconnect !== 'undefined') {\n    self.onconnect = function(event) {\n      fireworkers.push(new Fireworker(event.ports[0]));\n    };\n  } else {\n    fireworkers.push(new Fireworker(self));\n  }\n  self.localStorage.flushPending();\n}\n\nconst CONNECTION_CHECK_INTERVAL = 60 * 1000;\nlet lastConnectionCheck = Date.now();\nsetInterval(function findAbandonedConnections() {\n  const now = Date.now(), gap = now - lastConnectionCheck - CONNECTION_CHECK_INTERVAL;\n  lastConnectionCheck = now;\n  fireworkers.forEach(worker => {\n    if (!worker) return;\n    if (gap >= 1000 && worker.lastTouched <= now - gap) worker.lastTouched += gap;\n    if (now - worker.lastTouched >= 3 * CONNECTION_CHECK_INTERVAL) worker.destroy();\n  });\n  let k;\n  while ((k = fireworkers.indexOf(null)) >= 0) fireworkers.splice(k, 1);\n}, CONNECTION_CHECK_INTERVAL);\n\nself.Fireworker = Fireworker;\nself.window = self;\nacceptConnections();\n"],"names":["const","let","this","i"],"mappings":"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"}