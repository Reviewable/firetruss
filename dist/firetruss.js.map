{"version":3,"file":null,"sources":["../src/client/utils.js","../src/client/Reference.js","../node_modules/performance-now/lib/performance-now.js","../src/client/Tree.js","../src/client/KeyGenerator.js","../src/client/Bridge.js","../src/client/angularCompatibility.js","../src/client/Truss.js"],"sourcesContent":["'use strict';\n\nexport function escapeKey(key) {\n  if (!key) return key;\n  return key.toString().replace(/[\\\\\\.\\$\\#\\[\\]\\/]/g, function(char) {\n    return '\\\\' + char.charCodeAt(0).toString(16);\n  });\n}\n\nexport function unescapeKey(key) {\n  if (!key) return key;\n  return key.toString().replace(/\\\\[0-9a-f]{2}/gi, function(code) {\n    return String.fromCharCode(parseInt(code.slice(1), 16));\n  });\n}\n","'use strict';\n\nimport {unescapeKey} from './utils.js';\n\nimport _ from 'lodash';\n\n\nclass Query {\n  constructor(truss, path, terms) {\n    this._truss = truss;\n    this._path = path.replace(/^\\/?/, '/').replace(/\\/$/, '');\n    this._terms = terms;\n  }\n\n  get key() {\n    if (!this._key) this._key = unescapeKey(this._path.replace(/.*\\//, ''));\n    return this._key;\n  }\n  get path() {return this._path;}\n  get parent() {return new Reference(this._truss, this._path.replace(/\\/[^/]*$/, ''));}\n\n  get ready() {}  // TODO: implement\n  waitUntilReady() {}  // TODO: implement\n\n  get() {\n    // TODO: implement\n    if (this.ready) return Promise.resolve();\n    return trackSlowness(worker.once(this._url, this._terms, 'value'), 'read');\n  }\n\n  connect() {}  // TODO: implement\n  disconnect() {}  // TODO: implement\n\n  toString() {\n    let result = this._path;\n    if (this._terms) {\n      const queryTerms = this._terms.map(term => {\n        let queryTerm = term[0];\n        if (term.length > 1) {\n          queryTerm +=\n            '=' + encodeURIComponent(term.slice(1).map(x => JSON.stringify(x)).join(','));\n        }\n        return queryTerm;\n      });\n      queryTerms.sort();\n      result += '?' + queryTerms.join('&');\n    }\n    return result;\n  }\n\n  orderByChild(ref) {\n    if (ref._terms) {\n      throw new Error('orderByChild must be called with a reference, not a query: ' + ref);\n    }\n    let relativePath = ref.toString();\n    if (_.startsWith(relativePath, this._path)) {\n      relativePath = relativePath.slice(this._path.length);\n    }\n    const terms = this._terms ? this._terms.slice() : [];\n    terms.push(['orderByChild', relativePath]);\n    return new Query(this._truss, this._path, terms);\n  }\n}\n\n[\n  'orderByKey', 'orderByValue', 'startAt', 'endAt', 'equalTo', 'limitToFirst', 'limitToLast'\n].forEach(methodName => {\n  Query.prototype[methodName] = function() {\n    const term = Array.prototype.slice.call(arguments);\n    term.unshift(methodName);\n    const terms = this._terms ? this._terms.slice() : [];\n    terms.push(term);\n    return new Query(this._url, terms);\n  };\n});\n\n\n// jshint latedef:false\nclass Reference extends Query {\n// jshint latedef:nofunc\n\n  constructor(truss, path) {\n    super(truss, path);\n  }\n\n  child() {}  // TODO: implement\n  children() {}  // TODO: implement\n  set(value) {}  // TODO: implement\n  update(values) {}  // TODO: implement\n\n  commit(options, updateFunction) {\n    // TODO: revise\n    // const options = {\n    //   applyLocally: applyLocally === undefined ? updateFunction.applyLocally : applyLocally\n    // };\n    // ['nonsequential', 'safeAbort'].forEach(key => options[key] = updateFunction[key]);\n    for (let key in options) {\n      if (options.hasOwnProperty(key) && options[key] === undefined) {\n        options[key] = Truss.DefaultTransactionOptions[key];\n      }\n    }\n\n    // Hold the ref value live until transaction complete, otherwise it'll keep retrying on a null\n    // value.\n    this.on('value', noop);  // No error handling -- if this fails, so will the transaction.\n    return trackSlowness(\n      worker.transaction(this._url, updateFunction, options), 'write'\n    ).then(result => {\n      this.off('value', noop);\n      return result;\n    }, error => {\n      this.off('value', noop);\n      return Promise.reject(error);\n    });\n  }\n}\n\nexport default Reference;\n","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","'use strict';\n\nimport Reference from './Reference.js';\nimport {unescapeKey} from './utils.js';\n\nimport _ from 'lodash';\nimport performanceNow from 'performance-now';\nimport Vue from 'vue';\n\n// These are defined separately for each object so they're not included in Value below.\nconst RESERVED_VALUE_PROPERTY_NAMES = {$truss: true, $parent: true, $key: true, $path: true};\n\nconst computedPropertyStats = {};\n\n\nclass Value {\n  get $ref() {return new Reference(this.$truss, this.$path);}\n  get $refs() {return [this.$ref];}\n  get $keys() {return _.keys(this);}\n  get $values() {return _.values(this);}\n  get $root() {return this.$truss._vue.$data.$root;}  // access via $data to leave dependency trace\n  $set(value) {return this.$ref.set(value);}\n  $update(values) {return this.$ref.update(values);}\n  $commit(options, updateFn) {return this.$ref.commit(options, updateFn);}\n  // TODO\n  // $temporarilyOverride(updateFn)\n  // $onPropertyChange(method)\n  // $freezeProperty\n}\n\n\nclass ComputedPropertyStats {\n  constructor(name) {\n    _.extend(this, {name, numRecomputes: 0, numUpdates: 0, runtime: 0});\n  }\n}\n\n\nclass Tree {\n  constructor(truss, classes) {\n    this._truss = truss;\n    this._firebasePropertyEditAllowed = false;\n    this._vue = new Vue({data: {$root: null}});\n    this._mounts = _(classes).map(Class => this._mountClass(Class)).flatten().value();\n    this._vue.$data.$root = this._createObject('/', '');\n    // console.log(this._vue.$data.$root);\n    this._completeCreateObject(this.root);\n    this._plantPlaceholders(this.root, '/');\n  }\n\n  get root() {\n    return this._vue.$data.$root;\n  }\n\n  destroy() {\n    this._vue.$destroy();\n  }\n\n  _augmentClass(Class) {\n    let computedProperties;\n    let proto = Class.prototype;\n    while (proto && proto.constructor !== Object) {\n      for (let name of Object.getOwnPropertyNames(proto)) {\n        const descriptor = Object.getOwnPropertyDescriptor(proto, name);\n        if (name.charAt(0) === '$') {\n          if (_.isEqual(descriptor, Object.getOwnPropertyDescriptor(Value.prototype, name))) {\n            continue;\n          }\n          throw new Error(`Property names starting with \"$\" are reserved: ${Class.name}.${name}`);\n        }\n        if (descriptor.set) {\n          throw new Error(`Computed properties must not have a setter: ${Class.name}.${name}`);\n        }\n        if (descriptor.get && !(computedProperties && computedProperties[name])) {\n          (computedProperties || (computedProperties = {}))[name] = {\n            name, fullName: `${proto.constructor.name}.${name}`, get: descriptor.get\n          };\n        }\n      }\n      proto = Object.getPrototypeOf(proto);\n    }\n    for (let name of Object.getOwnPropertyNames(Value.prototype)) {\n      if (name === 'constructor') continue;\n      Object.defineProperty(\n        Class.prototype, name, Object.getOwnPropertyDescriptor(Value.prototype, name));\n    }\n    return computedProperties;\n  }\n\n  _mountClass(Class) {\n    if (Class.$$truss) throw new Error(`Class ${Class.name} already mounted`);\n    Class.$$truss = true;\n    const computedProperties = this._augmentClass(Class);\n    let mounts = Class.$trussMount;\n    if (!mounts) throw new Error(`Class ${Class.name} lacks a $trussMount static property`);\n    if (!_.isArray(mounts)) mounts = [mounts];\n    return _.map(mounts, mount => {\n      if (_.isString(mount)) mount = {path: mount};\n      const variables = [];\n      const pathTemplate = mount.path.replace(/\\/\\$[^\\/]+/g, match => {\n        variables.push(match.slice(1));\n        return '\\u0001';\n      }).replace(/[$-.?[-^{|}]/g, '\\\\$&');\n      for (let variable of variables) {\n        if (variable === '$' || variable.charAt(1) === '$') {\n          throw new Error(`Invalid variable name: ${variable}`);\n        }\n        if (variable.charAt(0) === '$' && (\n            _.has(Value.prototype, variable) || RESERVED_VALUE_PROPERTY_NAMES[variable]\n        )) {\n          throw new Error(`Variable name conflicts with built-in property or method: ${variable}`);\n        }\n      }\n      return {\n        klass: Class, variables, computedProperties,\n        escapedKey: mount.path.match(/\\/([^/]*)$/)[1],\n        placeholder: mount.placeholder,\n        regex: new RegExp('^' + pathTemplate.replace(/\\u0001/g, '/([^/]+)') + '$'),\n        parentRegex: new RegExp(\n          '^' + (pathTemplate.replace(/\\/[^/]*$/, '').replace(/\\u0001/g, '/([^/]+)') || '/') + '$')\n      };\n    });\n  }\n\n  /**\n   * Creates a Truss object and sets all its basic properties: path segment variables, user-defined\n   * properties, and computed properties.  The latter two will be enumerable so that Vue will pick\n   * them up and make the reactive, so you should call _completeCreateObject once it's done so and\n   * before any Firebase properties are added.\n   */\n  _createObject(path, key, parent) {\n    if (parent && _.has(parent, key)) throw new Error(`Duplicate object created for ${path}`);\n    let properties = {\n      $truss: {value: this._truss, writable: false, configurable: false, enumerable: false},\n      // We want Vue to wrap this; we'll hide it in _completeCreateObject.\n      $parent: {value: parent, writable: false, configurable: true, enumerable: true},\n      $key: {value: key, writable: false, configurable: false, enumerable: false},\n      $path: {value: path, writable: false, configurable: false, enumerable: false}\n    };\n\n    let Class = Value;\n    let computedProperties;\n    for (let mount of this._mounts) {\n      mount.regex.lastIndex = 0;\n      var match = mount.regex.exec(path);\n      if (match) {\n        Class = mount.klass;\n        computedProperties = mount.computedProperties;\n        for (let i = 0; i < mount.variables.length; i++) {\n          properties[mount.variables[i]] = {\n            value: unescapeKey(match[i + 1]),\n            writable: false, configurable: false, enumerable: false\n          };\n        }\n        break;\n      }\n    }\n\n    const object = new Class();\n\n    if (computedProperties) {\n      const touchThis = parent ? () => parent[key] : () => this._vue.$data.$root;\n      _.each(computedProperties, prop => {\n        properties[prop.name] = this._buildComputedPropertyDescriptor(object, prop, touchThis);\n      });\n    }\n\n    Object.defineProperties(object, properties);\n    return object;\n  }\n\n  _buildComputedPropertyDescriptor(object, prop, touchThis) {\n    if (!computedPropertyStats[prop.fullName]) {\n      Object.defineProperty(computedPropertyStats, prop.fullName, {\n        value: new ComputedPropertyStats(prop.fullName), writable: false, enumerable: true,\n        configurable: false\n      });\n    }\n    const stats = computedPropertyStats[prop.fullName];\n\n    function computeValue() {\n      // Touch this object, since a failed access to a missing property doesn't get captured as a\n      // dependency.\n      touchThis();\n\n      const startTime = performanceNow();\n      // jshint validthis: true\n      const result = prop.get.call(this);\n      // jshint validthis: false\n      stats.runtime += performanceNow() - startTime;\n      stats.numRecomputes += 1;\n      return result;\n    }\n\n    let value;\n    let writeAllowed = false;\n    let firstCallback = true;\n\n    if (!object.__destructors__) {\n      Object.defineProperty(object, '__destructors__', {\n        value: [], writable: false, enumerable: false, configurable: false});\n    }\n    if (!object.__initializers__) {\n      Object.defineProperty(object, '__initializers__', {\n        value: [], writable: false, enumerable: false, configurable: false});\n    }\n    object.__initializers__.push(() => {\n      object.__destructors__.push(\n        this._vue.$watch(computeValue.bind(object), newValue => {\n          if (firstCallback) {\n            stats.numUpdates += 1;\n            value = newValue;\n            firstCallback = false;\n          } else {\n            if (_.isEqual(value, newValue, this._isTrussEqual, this)) return;\n            stats.numUpdates += 1;\n            writeAllowed = true;\n            object[prop.name] = newValue;\n            writeAllowed = false;\n          }\n        }, {immediate: true})  // use immediate:true since watcher will run computeValue anyway\n      );\n    });\n    return {\n      enumerable: true, configurable: true,\n      get: function() {return value;},\n      set: function(newValue) {\n        if (!writeAllowed) throw new Error(`You cannot set a computed property: ${prop.name}`);\n        value = newValue;\n      }\n    };\n  }\n\n  _isTrussEqual(a, b) {\n    if (a && a.$truss || b && b.$truss) return a === b;\n  }\n\n  // To be called on the result of _createObject after it's been inserted into the _vue hierarchy\n  // and Vue has had a chance to initialize it.\n  _completeCreateObject(object) {\n    for (let name of Object.getOwnPropertyNames(object)) {\n      const descriptor = Object.getOwnPropertyDescriptor(object, name);\n      if (descriptor.configurable && descriptor.enumerable) {\n        descriptor.enumerable = false;\n        if (name === '$parent') {\n          descriptor.configurable = false;\n          descriptor.set = throwReadOnlyError;\n        }\n        Object.defineProperty(object, name, descriptor);\n      }\n    }\n    if (object.__initializers__) {\n      for (let fn of object.__initializers__) fn();\n    }\n  }\n\n  _destroyObject(object) {\n    if (object.__destructors__) {\n      for (let fn of object.__destructors__) fn();\n    }\n    for (let key in object) {\n      if (!Object.hasOwnProperty(object, key)) continue;\n      const value = object[key];\n      if (value && value.$truss) this._destroyObject(value);\n    }\n  }\n\n  _plantSnapshotValue(snap, parent) {\n    return this._plantValue(\n      pathFromUrl(snap.ref().toString()), unescapeKey(snap.key()), snap.val(), parent);\n  }\n\n  _plantValue(path, key, value, parent) {\n    if (!_.isArray(value) && !_.isObject(value)) {\n      this._setFirebaseProperty(parent, key, value);\n      return;\n    }\n    const object = this._createObject(path, key, parent);\n    this._setFirebaseProperty(parent, key, object);\n    this._completeCreateObject(object);\n    _.each(value, (item, escapedChildKey) => {\n      if (item === null || item === undefined) return;\n      this._plantValue(\n        `${joinPath(path, escapedChildKey)}`, unescapeKey(escapedChildKey), item, object);\n    });\n    this._plantPlaceholders(object, path);\n    return object;\n  }\n\n  _plantPlaceholders(object, path) {\n    _.each(this._mounts, mount => {\n      const key = unescapeKey(mount.escapedKey);\n      if (!object.hasOwnProperty(key) && mount.placeholder && mount.parentRegex.test(path)) {\n        this._plantValue(`${joinPath(path, mount.escapedKey)}`, key, mount.placeholder, object);\n      }\n    });\n  }\n\n  _setFirebaseProperty(object, key, value) {\n    let descriptor = Object.getOwnPropertyDescriptor(object, key);\n    if (descriptor) {\n      if (!descriptor.enumerable) {\n        throw new Error(\n          `Key conflict between Firebase and instance or computed properties at ` +\n          `${object.$path}: ${key}`);\n      }\n      if (!descriptor.get || !descriptor.set) {\n        throw new Error(`Unbound property at ${object.$path}: ${key}`);\n      }\n    }\n    if (value === null || value === undefined) {\n      if (descriptor) {\n        const oldValue = object[key];\n        if (oldValue && oldValue.$truss) this._deleteObject(oldValue);\n        Vue.delete(object, key);\n      }\n    } else {\n      if (descriptor) {\n        this._firebasePropertyEditAllowed = true;\n        object[key] = value;\n        this._firebasePropertyEditAllowed = false;\n      } else {\n        Vue.set(object, key, value);\n        descriptor = Object.getOwnPropertyDescriptor(object, key);\n        Object.defineProperty(object, key, {\n          get: descriptor.get,\n          set: function(newValue) {\n            if (!this._firebasePropertyEditAllowed) {\n              throw new Error(`Firebase data cannot be mutated directly: ${key}`);\n            }\n            descriptor.set.call(this, newValue);\n          },\n          configurable: true, enumerable: true\n        });\n      }\n    }\n  }\n\n  static get computedPropertyStats() {\n    return computedPropertyStats;\n  }\n}\n\n\nfunction throwReadOnlyError() {throw new Error('Read-only property');}\n\nfunction joinPath() {\n  const segments = [];\n  for (let segment of arguments) {\n    if (segment.charAt(0) === '/') segments.splice(0, segments.length);\n    segments.push(segment);\n  }\n  if (segments[0] === '/') segments[0] = '';\n  return segments.join('/');\n}\n\nexport default Tree;\n","'use strict';\n\nconst ALPHABET = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n\nclass KeyGenerator {\n  constructor() {\n    this._lastUniqueKeyTime = 0;\n    this._lastRandomValues = [];\n  }\n\n  generateUniqueKey(now) {\n    now = now || Date.now();\n    const chars = new Array(20);\n    let prefix = now;\n    for (let i = 7; i >= 0; i--) {\n      chars[i] = ALPHABET.charAt(prefix & 0x3f);\n      prefix = Math.floor(prefix / 64);\n    }\n    if (now === this._lastUniqueKeyTime) {\n      let i = 11;\n      while (i >= 0 && this._lastRandomValues[i] === 63) {\n        this._lastRandomValues[i] = 0;\n        i -= 1;\n      }\n      if (i === -1) {\n        throw new Error('Internal assertion failure: ran out of unique IDs for this millisecond');\n      }\n      this._lastRandomValues[i] += 1;\n    } else {\n      this._lastUniqueKeyTime = now;\n      for (let i = 0; i < 12; i++) {\n        // Make sure to leave some space for incrementing in the top nibble.\n        this._lastRandomValues[i] = Math.floor(Math.random() * (i ? 64 : 16));\n      }\n    }\n    for (let i = 0; i < 12; i++) {\n      chars[i + 8] = ALPHABET[this._lastRandomValues[i]];\n    }\n    return chars.join('');\n  }\n}\n\nexport default KeyGenerator;\n","'use strict';\n\n// jshint browser:true\n\nclass SlownessTracker {\n  constructor(record) {\n    this.record = record;\n    this.counted = false;\n    this.canceled = false;\n    this.handle = setTimeout(this.handleTimeout.bind(this), record.timeout);\n  }\n\n  handleTimeout() {\n    if (this.canceled) return;\n    this.counted = true;\n    this.record.callback(++this.record.count, 1, this.record.timeout);\n  }\n\n  handleDone() {\n    this.canceled = true;\n    if (this.counted) {\n      this.record.callback(--this.record.count, -1, this.record.timeout);\n    } else {\n      clearTimeout(this.handle);\n    }\n  }\n}\n\n\nclass Bridge {\n  constructor(webWorker) {\n    this._idCounter = 0;\n    this._deferreds = {};\n    this._active = true;\n    this._servers = {};\n    this._callbacks = {};\n    this._errorCallbacks = [];\n    this._slowCallbacks = {read: [], write: [], auth: []};\n    this._simulatedTokenGenerator = null;\n    this._maxSimulationDuration = 5000;\n    this._simulatedCallFilter = null;\n    this._inboundMessages = [];\n    this._outboundMessages = [];\n    this._flushMessageQueue = this._flushMessageQueue.bind(this);\n    this._port = webWorker.port || webWorker;\n    this._shared = !!webWorker.port;\n    this._port.onmessage = this._receive.bind(this);\n    window.addEventListener('unload', () => {this._send({msg: 'destroy'});});\n    setInterval(() => {this._send({msg: 'ping'});}, 60 * 1000);\n  }\n\n  init() {\n    const items = [];\n    try {\n      const storage = window.localStorage || window.sessionStorage;\n      if (!storage) return;\n      for (let i = 0; i < storage.length; i++) {\n        const key = storage.key(i);\n        items.push({key, value: storage.getItem(key)});\n      }\n    } catch (e) {\n      // Some browsers don't like us accessing local storage -- nothing we can do.\n    }\n    return this._send({msg: 'init', storage: items}).then(\n      ({exposedFunctionNames, firebaseSdkVersion}) => {\n        Truss.FIREBASE_SDK_VERSION = firebaseSdkVersion;\n        for (let name of exposedFunctionNames) {\n          Truss.worker[name] = this.bindExposedFunction(name);\n        }\n      }\n    );\n  }\n\n  activate(enabled) {\n    if (this._active === enabled) return;\n    this._active = enabled;\n    if (enabled) {\n      this._receiveMessages(this._inboundMessages);\n      this._inboundMessages = [];\n      if (this._outboundMessages.length) setImmediate(this._flushMessageQueue);\n    }\n  }\n\n  debugPermissionDeniedErrors(simulatedTokenGenerator, maxSimulationDuration, callFilter) {\n    this._simulatedTokenGenerator = simulatedTokenGenerator;\n    if (maxSimulationDuration !== undefined) this._maxSimulationDuration = maxSimulationDuration;\n    this._simulatedCallFilter = callFilter || function() {return true;};\n  }\n\n  _send(message) {\n    message.id = ++this._idCounter;\n    let promise;\n    if (message.oneWay) {\n      promise = Promise.resolve();\n    } else {\n      promise = new Promise((resolve, reject) => {\n        this._deferreds[message.id] = {resolve, reject};\n      });\n      const deferred = this._deferreds[message.id];\n      deferred.promise = promise;\n      promise.sent = new Promise(resolve => {\n        deferred.resolveSent = resolve;\n      });\n      for (let name in message) if (message.hasOwnProperty(name)) deferred[name] = message[name];\n    }\n    if (!this._outboundMessages.length && this._active) setImmediate(this._flushMessageQueue);\n    this._outboundMessages.push(message);\n    return promise;\n  }\n\n  _flushMessageQueue() {\n    this._port.postMessage(this._outboundMessages);\n    this._outboundMessages = [];\n  }\n\n  _receive(event) {\n    if (this._active) {\n      this._receiveMessages(event.data);\n    } else {\n      this._inboundMessages = this._inboundMessages.concat(event.data);\n    }\n  }\n\n  _receiveMessages(messages) {\n    for (let message of messages) {\n      const fn = this[message.msg];\n      if (typeof fn !== 'function') throw new Error('Unknown message: ' + message.msg);\n      fn.call(this, message);\n    }\n  }\n\n  bindExposedFunction(name) {\n    return (function() {\n      return this._send({msg: 'call', name, args: Array.prototype.slice.call(arguments)});\n    }).bind(this);\n  }\n\n  resolve(message) {\n    const deferred = this._deferreds[message.id];\n    if (!deferred) throw new Error('fireworker received resolution to inexistent call');\n    delete this._deferreds[message.id];\n    deferred.resolve(message.result);\n  }\n\n  reject(message) {\n    const deferred = this._deferreds[message.id];\n    if (!deferred) throw new Error('fireworker received rejection of inexistent call');\n    delete this._deferreds[message.id];\n    this._hydrateError(message.error, deferred).then(error => {\n      deferred.reject(error);\n      this._emitError(error);\n    });\n  }\n\n  _hydrateError(json, props) {\n    const error = this._errorFromJson(json);\n    const code = json.code || json.message;\n    if (code && code.toLowerCase() === 'permission_denied') {\n      return this._simulateCall(props).then(securityTrace => {\n        if (securityTrace) {\n          error.extra = error.extra || {};\n          error.extra.debug = securityTrace;\n        }\n        return error;\n      });\n    } else {\n      return Promise.resolve(error);\n    }\n  }\n\n  _simulateCall(props) {\n    if (!(this._simulatedTokenGenerator && this._maxSimulationDuration > 0)) {\n      return Promise.resolve();\n    }\n    let simulatedCalls = [];\n    switch (props.msg) {\n      case 'set':\n        simulatedCalls.push({method: 'set', url: props.url, args: [props.value]});\n        break;\n      case 'update':\n        simulatedCalls.push({method: 'update', url: props.url, args: [props.value]});\n        break;\n      case 'on':\n      case 'once':\n        simulatedCalls.push({method: 'once', url: props.url, args: ['value']});\n        break;\n      case 'transaction':\n        simulatedCalls.push({method: 'once', url: props.url, args: ['value']});\n        simulatedCalls.push({method: 'set', url: props.url, args: [props.newValue]});\n        break;\n    }\n    if (!simulatedCalls.length || !this._simulatedCallFilter(props.msg, props.url)) {\n      return Promise.resolve();\n    }\n    const auth = this.getAuth(getUrlRoot(props.url));\n    const simulationPromise = this._simulatedTokenGenerator(auth && auth.uid).then(token => {\n      return Promise.all(simulatedCalls.map(message => {\n        message.msg = 'simulate';\n        message.token = token;\n        return this._send(message);\n      }));\n    }).then(securityTraces => {\n      if (securityTraces.every(trace => trace === null)) {\n        return 'Unable to reproduce error in simulation';\n      }\n      return securityTraces.filter(trace => trace).join('\\n\\n');\n    }).catch(e => {\n      return 'Error running simulation: ' + e;\n    });\n    const timeoutPromise = new Promise(resolve => {\n      setTimeout(resolve.bind(null, 'Simulated call timed out'), this._maxSimulationDuration);\n    });\n    return Promise.race([simulationPromise, timeoutPromise]);\n  }\n\n  updateLocalStorage(items) {\n    try {\n      const storage = window.localStorage || window.sessionStorage;\n      for (let item in items) {\n        if (item.value === null) {\n          storage.removeItem(item.key);\n        } else {\n          storage.setItem(item.key, item.value);\n        }\n      }\n    } catch (e) {\n      // If we're denied access, there's nothing we can do.\n    }\n  }\n\n  trackServer(rootUrl) {\n    if (this._servers.hasOwnProperty(rootUrl)) return;\n    const server = this._servers[rootUrl] = {offset: 0, authListeners: []};\n    const authCallbackId = this._registerCallback(this._authCallback.bind(this, server));\n    const offsetUrl = `${rootUrl}/.info/serverTimeOffset`;\n    this.on(offsetUrl, offsetUrl, [], 'value', offset => {server.offset = offset.val();});\n    this._send({msg: 'onAuth', url: rootUrl, callbackId: authCallbackId});\n  }\n\n  _authCallback(server, auth) {\n    server.auth = auth;\n    for (let listener of server.authListeners) listener(auth);\n  }\n\n  onAuth(rootUrl, callback, context) {\n    const listener = callback.bind(context);\n    listener.callback = callback;\n    listener.context = context;\n    this._servers[rootUrl].authListeners.push(listener);\n    listener(this.getAuth(rootUrl));\n  }\n\n  offAuth(rootUrl, callback, context) {\n    const authListeners = this._servers[rootUrl].authListeners;\n    for (let i = 0; i < authListeners.length; i++) {\n      const listener = authListeners[i];\n      if (listener.callback === callback && listener.context === context) {\n        authListeners.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  getAuth(rootUrl) {\n    return this._servers[rootUrl].auth;\n  }\n\n  authWithCustomToken(url, authToken, options) {\n    return this._send({msg: 'authWithCustomToken', url, authToken, options});\n  }\n\n  unauth(url) {\n    return this._send({msg: 'unauth', url});\n  }\n\n  set(url, value) {return this._send({msg: 'set', url, value});}\n  update(url, value) {return this._send({msg: 'update', url, value});}\n\n  on(listenerKey, url, terms, eventType, snapshotCallback, cancelCallback, context, options) {\n    const handle = {\n      listenerKey, eventType, snapshotCallback, cancelCallback, context, msg: 'on', url, terms,\n      timeouts: this._slowCallbacks.read.map(record => new SlownessTracker(record))\n    };\n    const callback = this._onCallback.bind(this, handle);\n    this._registerCallback(callback, handle);\n    // Keep multiple IDs to allow the same snapshotCallback to be reused.\n    snapshotCallback.__callbackIds = snapshotCallback.__callbackIds || [];\n    snapshotCallback.__callbackIds.push(handle.id);\n    this._send({\n      msg: 'on', listenerKey, url, terms, eventType, callbackId: handle.id, options\n    }).catch(error => {\n      callback(error);\n    });\n  }\n\n  off(listenerKey, url, terms, eventType, snapshotCallback, context) {\n    const idsToDeregister = [];\n    let callbackId;\n    if (snapshotCallback) {\n      if (snapshotCallback.__callbackIds) {\n        let i = 0;\n        while (i < snapshotCallback.__callbackIds.length) {\n          const id = snapshotCallback.__callbackIds[i];\n          const handle = this._callbacks[id];\n          if (!handle) {\n            snapshotCallback.__callbackIds.splice(i, 1);\n            continue;\n          }\n          if (handle.listenerKey === listenerKey && handle.eventType === eventType &&\n              handle.context === context) {\n            callbackId = id;\n            idsToDeregister.push(id);\n            snapshotCallback.__callbackIds.splice(i, 1);\n            break;\n          }\n          i += 1;\n        }\n      }\n      if (!callbackId) return;  // no-op, callback never registered or already deregistered\n    } else {\n      for (let id of Object.keys(this._callbacks)) {\n        const handle = this._callbacks[id];\n        if (handle.listenerKey === listenerKey && (!eventType || handle.eventType === eventType)) {\n          idsToDeregister.push(id);\n        }\n      }\n    }\n    // Nullify callbacks first, then deregister after off() is complete.  We don't want any\n    // callbacks in flight from the worker to be invoked while the off() is processing, but we don't\n    // want them to throw an exception either.\n    for (let id of idsToDeregister) this._nullifyCallback(id);\n    return this._send({msg: 'off', listenerKey, url, terms, eventType, callbackId}).then(() => {\n      for (let id of idsToDeregister) this._deregisterCallback(id);\n    });\n  }\n\n  _onCallback(handle, error, snapshotJson) {\n    if (handle.timeouts) {\n      for (let timeout of handle.timeouts) timeout.handleDone();\n    }\n    if (error) {\n      this._deregisterCallback(handle.id);\n      this._hydrateError(error, handle).then(error => {\n        if (handle.cancelCallback) handle.cancelCallback.call(handle.context, error);\n        this._emitError(error);\n      });\n    } else {\n      handle.snapshotCallback.call(handle.context, new Snapshot(snapshotJson));\n    }\n  }\n\n  once(url, terms, eventType, options) {\n    return this._send({msg: 'once', url, terms, eventType, options}).then(snapshotJson => {\n      return new Snapshot(snapshotJson);\n    });\n  }\n\n  transaction(url, updateFunction, options) {\n    let tries = 0;\n\n    const attemptTransaction = (oldValue, oldHash) => {\n      if (tries++ >= 25) return Promise.reject(new Error('maxretry'));\n      let newValue;\n      try {\n        newValue = updateFunction(oldValue);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (newValue === Firebase.ABORT_TRANSACTION_NOW ||\n          newValue === undefined && !options.safeAbort) {\n        return {committed: false, snapshot: new Snapshot({url, value: oldValue})};\n      }\n      return this._send({msg: 'transaction', url, oldHash, newValue, options}).then(result => {\n        if (result.stale) {\n          return attemptTransaction(result.value, result.hash);\n        } else {\n          return {committed: result.committed, snapshot: new Snapshot(result.snapshotJson)};\n        }\n      });\n    };\n\n    return attemptTransaction(null, null);\n  }\n\n  onDisconnect(url, method, value) {\n    return this._send({msg: 'onDisconnect', url, method, value});\n  }\n\n  bounceConnection() {\n    return this._send({msg: 'bounceConnection'});\n  }\n\n  callback({id, args}) {\n    const handle = this._callbacks[id];\n    if (!handle) throw new Error('Unregistered callback: ' + id);\n    handle.callback.apply(null, args);\n  }\n\n  _registerCallback(callback, handle) {\n    handle = handle || {};\n    handle.callback = callback;\n    handle.id = `cb${++this._idCounter}`;\n    this._callbacks[handle.id] = handle;\n    return handle.id;\n  }\n\n  _nullifyCallback(id) {\n    const handle = this._callbacks[id];\n    if (handle.timeouts) {\n      for (let timeout of handle.timeouts) timeout.handleDone();\n    }\n    this._callbacks[id].callback = noop;\n  }\n\n  _deregisterCallback(id) {\n    delete this._callbacks[id];\n  }\n\n  onError(callback) {\n    this._errorCallbacks.push(callback);\n    return callback;\n  }\n\n  offError(callback) {\n    var k = this._errorCallbacks.indexOf(callback);\n    if (k !== -1) this._errorCallbacks.splice(k, 1);\n  }\n\n  onSlow(operationKind, timeout, callback) {\n    const kinds = operationKind === 'all' ? Object.keys(this._slowCallbacks) : [operationKind];\n    for (let kind of kinds) this._slowCallbacks[kind].push({timeout, callback, count: 0});\n    return callback;\n  }\n\n  offSlow(operationKind, callback) {\n    const kinds = operationKind === 'all' ? Object.keys(this._slowCallbacks) : [operationKind];\n    for (let kind of kinds) {\n      const records = this._slowCallbacks[kind];\n      for (let i = 0; i < records.length; i++) {\n        if (records[i].callback === callback) {\n          records.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n\n  trackSlowness(promise, operationKind) {\n    const records = this._slowCallbacks[operationKind];\n    if (!records.length) return promise;\n\n    const timeouts = records.map(record => new SlownessTracker(record));\n\n    function opDone() {\n      for (let timeout of timeouts) timeout.handleDone();\n    }\n\n    promise = promise.then(result => {\n      opDone();\n      return result;\n    }, error => {\n      opDone();\n      return Promise.reject(error);\n    });\n\n    return promise;\n  }\n\n  _errorFromJson(json) {\n    if (!json || json instanceof Error) return json;\n    const error = new Error(json.message);\n    for (let propertyName in json) {\n      if (propertyName === 'message' || !json.hasOwnProperty(propertyName)) continue;\n      try {\n        error[propertyName] = json[propertyName];\n      } catch (e) {\n        e.extra = {propertyName};\n        throw e;\n      }\n    }\n    return error;\n  }\n\n  _emitError(error) {\n    if (this._errorCallbacks.length) {\n      setTimeout(() => {\n        for (let callback of this._errorCallbacks) callback(error);\n      }, 0);\n    }\n  }\n\n}\n\n\nfunction noop() {}\n\nexport default Bridge;\n\n","/* globals window */\n\nlet triggerAngularDigest;\n\nconst exports = {active: typeof window !== 'undefined' && window.angular};\nexport default exports;\n\nif (exports.active) {\n  window.angular.module('firetruss', []).run(\n    ['$rootScope', function($rootScope) {\n      triggerAngularDigest = $rootScope.$evalAsync.bind($rootScope);\n    }]\n  );\n  exports.defineModule = function(Truss) {\n    window.angular.module('firetruss').constant('Truss', Truss);\n  };\n} else {\n  exports.defineModule = function() {};\n}\n\nexports.digest = function() {\n  if (triggerAngularDigest) triggerAngularDigest();\n};\n","'use strict';\n\nimport Tree from './Tree.js';\nimport KeyGenerator from './KeyGenerator.js';\nimport Bridge from './Bridge.js';\nimport angularCompatibility from './angularCompatibility.js';\nimport {escapeKey, unescapeKey} from './utils.js';\n\nconst TIMESTAMP = Object.freeze({'.sv': 'timestamp'});\n\nlet bridge;\n\n\n// jshint latedef:false\nclass Truss {\n// jshint latedef:nofunc\n\n  /**\n   * Create a new Truss instance, specific to a given Firebase.  There should be exactly one Truss\n   * per root Firebase URL, so in most code this will be a singleton.\n   *\n   * @param rootUrl {String} The root URL, https://{project}.firebaseio.com.\n   * @param classes {Array<Function>} A list of the classes to map onto the datastore structure.\n   *    Each class must have a static $trussMount property that is a (wildcarded) datastore path, or\n   *    an options object {path: string, placeholder: object}, or an array of either.\n   */\n  constructor(rootUrl, classes) {\n    // TODO: allow rootUrl to be a test database object for testing\n    this._rootUrl = rootUrl.replace(/\\/$/, '');\n    this._keyGenerator = new KeyGenerator();\n    bridge.trackServer(this._rootUrl);\n    this._tree = new Tree(this, classes);\n    Object.defineProperty(this, 'root', {\n      value: this._vue.$data.$root, writable: false, configurable: false, enumerable: false\n    });\n    if (angularCompatibility.active) {\n      this._vue.$watch('$data', angularCompatibility.digest, {deep: true});\n    }\n  }\n\n  destroy() {\n    this.tree.destroy();\n  }\n\n  get now() {}\n  newKey() {return this._keyGenerator.generateUniqueKey(this.now);}\n\n  get user() {}\n  authenticate(token) {}\n  unauthenticate() {}\n\n  interceptConnections(/* {beforeConnect: beforeFn, afterDisconnect: afterFn, onError: errorFn} */) {}\n  interceptWrites(/* {beforeWrite: beforeFn, afterWrite: afterFn, onError: errorFn} */) {}\n  pull(scope, connections) {}  // returns readyPromise\n  bind(scope, connections) {}  // returns readyPromise\n  // connections are {key: Query | Array<Reference> | fn() -> (Query | Array<Reference>)}\n\n  static get computedPropertyStats() {return this._tree.computedPropertyStats;}\n\n  static connectWorker(webWorker) {\n    if (bridge) throw new Error('Worker already connected');\n    bridge = new Bridge(webWorker);\n    return bridge.init();\n  }\n\n  static preExpose(functionName) {\n    Truss.worker[functionName] = bridge.bindExposedFunction(functionName);\n  }\n\n  static goOnline() {\n    bridge.activate(true);\n  }\n\n  static goOffline() {\n    bridge.activate(false);\n  }\n\n  static escapeKey(key) {\n    return escapeKey(key);\n  }\n\n  static unescapeKey(escapedKey) {\n    return unescapeKey(escapedKey);\n  }\n\n  static get TIMESTAMP() {\n    return TIMESTAMP;\n  }\n}\n\n[\n  'onError', 'offError', 'onSlow', 'offSlow', 'bounceConnection', 'debugPermissionDeniedErrors'\n].forEach(methodName => {\n  Truss[methodName] = function() {return bridge[methodName].apply(bridge, arguments);};\n});\n\n\nTruss.DefaultTransactionOptions = Object.seal({\n  applyLocally: true, nonsequential: false, safeAbort: false\n});\nTruss.ABORT_TRANSACTION_NOW = Object.create(null);\nTruss.worker = {};\n\n\n\n\nfunction pathFromUrl(url) {\n  return url.replace(/^https?:\\/\\/[^/]+/, '');\n}\n\nfunction getUrlRoot(url) {\n  const k = url.indexOf('/', 8);\n  return k >= 8 ? url.slice(0, k) : url;\n}\n\nangularCompatibility.defineModule(Truss);\nexport default Truss;\n"],"names":["prototypeAccessors","const","super","let","this","prototypeAccessors$1","name","staticAccessors","i","id","handle","noop","exports","Truss","angularCompatibility"],"mappings":"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"}