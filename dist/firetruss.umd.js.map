{"version":3,"file":null,"sources":["../src/angularCompatibility.js","../src/utils.js","../src/Bridge.js","../src/Reference.js","../src/Connector.js","../src/Dispatcher.js","../src/KeyGenerator.js","../src/MetaTree.js","../src/Coupler.js","../node_modules/performance-now/lib/performance-now.js","../src/Modeler.js","../src/Tree.js","../src/Truss.js"],"sourcesContent":["/* globals window */\n\nimport _ from 'lodash';\n\n\nlet earlyDigestPending;\nlet bareDigest = function() {\n  earlyDigestPending = true;\n};\n\n\nconst angularProxy = {\n  active: typeof window !== 'undefined' && window.angular,\n  debounceDigest(wait) {\n    if (wait) {\n      angularProxy.digest = _.debounce(bareDigest, wait);\n    } else {\n      angularProxy.digest = bareDigest;\n    }\n  }\n};\n['digest', 'watch', 'defineModule'].forEach(method => {angularProxy[method] = noop;});\n\nif (angularProxy.active) {\n  angularProxy.digest = bareDigest;\n  angularProxy.watch = function() {throw new Error('Angular watch proxy not yet initialized');};\n  window.angular.module('firetruss', []).run(['$rootScope', function($rootScope) {\n    bareDigest = $rootScope.$evalAsync.bind($rootScope);\n    if (earlyDigestPending) bareDigest();\n    angularProxy.watch = $rootScope.$watch.bind($rootScope);\n  }]);\n  angularProxy.defineModule = function(Truss) {\n    window.angular.module('firetruss').constant('Truss', Truss);\n  };\n}\n\nfunction noop() {}\n\nexport default angularProxy;\n","import _ from 'lodash';\n\n\nexport const SERVER_TIMESTAMP = Object.freeze({'.sv': 'timestamp'});\n\nexport function escapeKey(key) {\n  if (!key) return key;\n  return key.toString().replace(/[\\\\\\.\\$\\#\\[\\]\\/]/g, function(char) {\n    return '\\\\' + char.charCodeAt(0).toString(16);\n  });\n}\n\nexport function unescapeKey(key) {\n  if (!key) return key;\n  return key.toString().replace(/\\\\[0-9a-f]{2}/gi, function(code) {\n    return String.fromCharCode(parseInt(code.slice(1), 16));\n  });\n}\n\nexport function wrapPromiseCallback(callback) {\n  return function() {\n    try {\n      return Promise.resolve(callback.apply(this, arguments));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nexport function joinPath() {\n  const segments = [];\n  for (const segment of arguments) {\n    if (segment.charAt(0) === '/') segments.splice(0, segments.length);\n    segments.push(segment);\n  }\n  if (segments[0] === '/') segments[0] = '';\n  return segments.join('/');\n}\n\n\nconst pathMatchers = {};\nconst maxNumPathMatchers = 1000;\n\n\nclass PathMatcher {\n  constructor(pattern) {\n    this.variables = [];\n    const prefixMatch = _.endsWith(pattern, '/$*');\n    if (prefixMatch) pattern = pattern.slice(0, -3);\n    const pathTemplate = pattern.replace(/\\/\\$[^\\/]*/g, match => {\n      if (match.length > 1) this.variables.push(match.slice(1));\n      return '\\u0001';\n    });\n    Object.freeze(this.variables);\n    if (/[$-.?[-^{|}]/.test(pathTemplate)) {\n      throw new Error('Path pattern has unescaped keys: ' + pattern);\n    }\n    this._regex = new RegExp(\n      '^' + pathTemplate.replace(/\\u0001/g, '/([^/]+)') + (prefixMatch ? '($|/)' : '$'));\n    this._parentRegex = new RegExp(\n      '^' + (pathTemplate.replace(/\\/[^/]*$/, '').replace(/\\u0001/g, '/([^/]+)') || '/') + '$');\n  }\n\n  match(path) {\n    this._regex.lastIndex = 0;\n    const match = this._regex.exec(path);\n    if (!match) return;\n    const bindings = {};\n    for (let i = 0; i < this.variables.length; i++) {\n      bindings[this.variables[i]] = unescapeKey(match[i + 1]);\n    }\n    return bindings;\n  }\n\n  test(path) {\n    return this._regex.test(path);\n  }\n\n  testParent(path) {\n    return this._parentRegex.test(path);\n  }\n\n  toString() {\n    return this._regex.toString();\n  }\n}\n\n\nexport function makePathMatcher(pattern) {\n  let matcher = pathMatchers[pattern];\n  if (!matcher) {\n    matcher = new PathMatcher(pattern);\n    // Minimal pseudo-LRU behavior, since we don't expect to actually fill up the cache.\n    if (_.size(pathMatchers) === maxNumPathMatchers) delete pathMatchers[_.keys(pathMatchers)[0]];\n    pathMatchers[pattern] = matcher;\n  }\n  return matcher;\n}\n","import {unescapeKey} from './utils.js';\nimport _ from 'lodash';\n\n// jshint browser:true\n\nconst MIN_WORKER_VERSION = '0.4.0';\n\n\nclass Snapshot {\n  constructor({path, value, valueError, exists}) {\n    this._path = path;\n    this._value = value;\n    this._valueError = errorFromJson(valueError);\n    this._exists = value === undefined ? exists || false : value !== null;\n  }\n\n  get path() {\n    return this._path;\n  }\n\n  get exists() {\n    return this._exists;\n  }\n\n  get value() {\n    this._checkValue();\n    return this._value;\n  }\n\n  get key() {\n    if (this._key === undefined) this._key = unescapeKey(this._path.replace(/.*\\//, ''));\n    return this._key;\n  }\n\n  _checkValue() {\n    if (this._valueError) throw this._valueError;\n    if (this._value === undefined) throw new Error('Value omitted from snapshot');\n  }\n}\n\n\nexport default class Bridge {\n  constructor(webWorker) {\n    this._idCounter = 0;\n    this._deferreds = {};\n    this._suspended = false;\n    this._servers = {};\n    this._callbacks = {};\n    this._log = _.noop;\n    this._simulatedTokenGenerator = null;\n    this._maxSimulationDuration = 5000;\n    this._simulatedCallFilter = null;\n    this._inboundMessages = [];\n    this._outboundMessages = [];\n    this._flushMessageQueue = this._flushMessageQueue.bind(this);\n    this._port = webWorker.port || webWorker;\n    this._shared = !!webWorker.port;\n    this._port.onmessage = this._receive.bind(this);\n    window.addEventListener('unload', () => {this._send({msg: 'destroy'});});\n    setInterval(() => {this._send({msg: 'ping'});}, 60 * 1000);\n  }\n\n  init(webWorker) {\n    const items = [];\n    try {\n      const storage = window.localStorage || window.sessionStorage;\n      if (!storage) return;\n      for (let i = 0; i < storage.length; i++) {\n        const key = storage.key(i);\n        items.push({key, value: storage.getItem(key)});\n      }\n    } catch (e) {\n      // Some browsers don't like us accessing local storage -- nothing we can do.\n    }\n    return this._send({msg: 'init', storage: items}).then(response => {\n      const workerVersion = response.version.match(/^(\\d+)\\.(\\d+)\\.(\\d+)(-.*)?$/);\n      if (workerVersion) {\n        const minVersion = MIN_WORKER_VERSION.match(/^(\\d+)\\.(\\d+)\\.(\\d+)(-.*)?$/);\n        // Major version must match precisely, minor and patch must be greater than or equal.\n        const sufficient = workerVersion[1] === minVersion[1] && (\n          workerVersion[2] > minVersion[2] ||\n          workerVersion[2] === minVersion[2] && workerVersion[3] >= minVersion[3]\n        );\n        if (!sufficient) return Promise.reject(new Error(\n          `Incompatible Firetruss worker version: ${response.version} ` +\n          `(${MIN_WORKER_VERSION} or better required)`\n        ));\n      }\n      return response;\n    });\n  }\n\n  suspend(suspended) {\n    if (suspended === undefined) suspended = true;\n    if (this._suspended === suspended) return;\n    this._suspended = suspended;\n    if (!suspended) {\n      this._receiveMessages(this._inboundMessages);\n      this._inboundMessages = [];\n      if (this._outboundMessages.length) Promise.resolve().then(this._flushMessageQueue);\n    }\n  }\n\n  debugPermissionDeniedErrors(simulatedTokenGenerator, maxSimulationDuration, callFilter) {\n    this._simulatedTokenGenerator = simulatedTokenGenerator;\n    if (maxSimulationDuration !== undefined) this._maxSimulationDuration = maxSimulationDuration;\n    this._simulatedCallFilter = callFilter || function() {return true;};\n  }\n\n  enableLogging(fn) {\n    if (fn) {\n      if (fn === true) fn = console.log.bind(console);\n      this._log = fn;\n    } else {\n      this._log = _.noop;\n    }\n  }\n\n  _send(message) {\n    message.id = ++this._idCounter;\n    let promise;\n    if (message.oneWay) {\n      promise = Promise.resolve();\n    } else {\n      promise = new Promise((resolve, reject) => {\n        this._deferreds[message.id] = {resolve, reject};\n      });\n      const deferred = this._deferreds[message.id];\n      deferred.promise = promise;\n      promise.sent = new Promise(resolve => {\n        deferred.resolveSent = resolve;\n      });\n      deferred.params = message;\n    }\n    if (!this._outboundMessages.length && !this._suspended) {\n      Promise.resolve().then(this._flushMessageQueue);\n    }\n    this._log('send:', message);\n    this._outboundMessages.push(message);\n    return promise;\n  }\n\n  _flushMessageQueue() {\n    this._port.postMessage(this._outboundMessages);\n    this._outboundMessages = [];\n  }\n\n  _receive(event) {\n    if (this._suspended) {\n      this._inboundMessages = this._inboundMessages.concat(event.data);\n    } else {\n      this._receiveMessages(event.data);\n    }\n  }\n\n  _receiveMessages(messages) {\n    for (const message of messages) {\n      this._log('recv:', message);\n      const fn = this[message.msg];\n      if (typeof fn !== 'function') throw new Error('Unknown message: ' + message.msg);\n      fn.call(this, message);\n    }\n  }\n\n  bindExposedFunction(name) {\n    return (function() {\n      return this._send({msg: 'call', name, args: Array.prototype.slice.call(arguments)});\n    }).bind(this);\n  }\n\n  resolve(message) {\n    const deferred = this._deferreds[message.id];\n    if (!deferred) throw new Error('Received resolution to inexistent Firebase call');\n    delete this._deferreds[message.id];\n    deferred.resolve(message.result);\n  }\n\n  reject(message) {\n    const deferred = this._deferreds[message.id];\n    if (!deferred) throw new Error('Received rejection of inexistent Firebase call');\n    delete this._deferreds[message.id];\n    deferred.reject(errorFromJson(message.error, deferred.params));\n  }\n\n  probeError(error) {\n    const code = error.code || error.message;\n    if (error.params && code && code.toLowerCase() === 'permission_denied') {\n      return this._simulateCall(error.params).then(securityTrace => {\n        if (securityTrace) error.permissionDeniedDetails = securityTrace;\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  _simulateCall(props) {\n    if (!(this._simulatedTokenGenerator && this._maxSimulationDuration > 0)) {\n      return Promise.resolve();\n    }\n    let simulatedCalls = [];\n    switch (props.msg) {\n      case 'set':\n        simulatedCalls.push({method: 'set', url: props.url, args: [props.value]});\n        break;\n      case 'update':\n        simulatedCalls.push({method: 'update', url: props.url, args: [props.value]});\n        break;\n      case 'on':\n        simulatedCalls.push({method: 'once', url: props.url, spec: props.spec, args: ['value']});\n        break;\n      case 'transaction':\n        simulatedCalls.push({method: 'once', url: props.url, args: ['value']});\n        simulatedCalls.push({method: 'set', url: props.url, args: [props.newValue]});\n        break;\n    }\n    if (!simulatedCalls.length || !this._simulatedCallFilter(props.msg, props.url)) {\n      return Promise.resolve();\n    }\n    const auth = this.getAuth(getUrlRoot(props.url));\n    const simulationPromise = this._simulatedTokenGenerator(auth && auth.uid).then(token => {\n      return Promise.all(simulatedCalls.map(message => {\n        message.msg = 'simulate';\n        message.token = token;\n        return this._send(message);\n      }));\n    }).then(securityTraces => {\n      if (securityTraces.every(trace => trace === null)) {\n        return 'Unable to reproduce error in simulation';\n      }\n      return securityTraces.filter(trace => trace).join('\\n\\n');\n    }).catch(e => {\n      return 'Error running simulation: ' + e;\n    });\n    const timeoutPromise = new Promise(resolve => {\n      setTimeout(resolve.bind(null, 'Simulated call timed out'), this._maxSimulationDuration);\n    });\n    return Promise.race([simulationPromise, timeoutPromise]);\n  }\n\n  updateLocalStorage(items) {\n    try {\n      const storage = window.localStorage || window.sessionStorage;\n      for (const item in items) {\n        if (item.value === null) {\n          storage.removeItem(item.key);\n        } else {\n          storage.setItem(item.key, item.value);\n        }\n      }\n    } catch (e) {\n      // If we're denied access, there's nothing we can do.\n    }\n  }\n\n  trackServer(rootUrl) {\n    if (this._servers.hasOwnProperty(rootUrl)) return;\n    const server = this._servers[rootUrl] = {authListeners: []};\n    const authCallbackId = this._registerCallback(this._authCallback.bind(this, server));\n    this._send({msg: 'onAuth', url: rootUrl, callbackId: authCallbackId});\n  }\n\n  _authCallback(server, auth) {\n    server.auth = auth;\n    for (const listener of server.authListeners) listener(auth);\n  }\n\n  onAuth(rootUrl, callback, context) {\n    const listener = callback.bind(context);\n    listener.callback = callback;\n    listener.context = context;\n    this._servers[rootUrl].authListeners.push(listener);\n    listener(this.getAuth(rootUrl));\n  }\n\n  offAuth(rootUrl, callback, context) {\n    const authListeners = this._servers[rootUrl].authListeners;\n    for (let i = 0; i < authListeners.length; i++) {\n      const listener = authListeners[i];\n      if (listener.callback === callback && listener.context === context) {\n        authListeners.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  getAuth(rootUrl) {\n    return this._servers[rootUrl].auth;\n  }\n\n  authWithCustomToken(url, authToken, options) {\n    return this._send({msg: 'authWithCustomToken', url, authToken, options});\n  }\n\n  unauth(url) {\n    return this._send({msg: 'unauth', url});\n  }\n\n  set(url, value, writeSerial) {return this._send({msg: 'set', url, value, writeSerial});}\n  update(url, value, writeSerial) {return this._send({msg: 'update', url, value, writeSerial});}\n\n  on(listenerKey, url, spec, eventType, snapshotCallback, cancelCallback, context, options) {\n    const handle = {\n      listenerKey, eventType, snapshotCallback, cancelCallback, context,\n      params: {msg: 'on', listenerKey, url, spec, eventType, options}\n    };\n    const callback = this._onCallback.bind(this, handle);\n    this._registerCallback(callback, handle);\n    // Keep multiple IDs to allow the same snapshotCallback to be reused.\n    snapshotCallback.__callbackIds = snapshotCallback.__callbackIds || [];\n    snapshotCallback.__callbackIds.push(handle.id);\n    this._send({\n      msg: 'on', listenerKey, url, spec, eventType, callbackId: handle.id, options\n    }).catch(error => {\n      callback(error);\n    });\n  }\n\n  off(listenerKey, url, spec, eventType, snapshotCallback, context) {\n    const idsToDeregister = [];\n    let callbackId;\n    if (snapshotCallback) {\n      callbackId = this._findAndRemoveCallbackId(\n        snapshotCallback,\n        handle =>\n          handle.listenerKey === listenerKey && handle.eventType === eventType &&\n          handle.context === context\n      );\n      if (!callbackId) return Promise.resolve();  // no-op, never registered or already deregistered\n      idsToDeregister.push(callbackId);\n    } else {\n      for (const id of Object.keys(this._callbacks)) {\n        const handle = this._callbacks[id];\n        if (handle.listenerKey === listenerKey && (!eventType || handle.eventType === eventType)) {\n          idsToDeregister.push(id);\n        }\n      }\n    }\n    // Nullify callbacks first, then deregister after off() is complete.  We don't want any\n    // callbacks in flight from the worker to be invoked while the off() is processing, but we don't\n    // want them to throw an exception either.\n    for (const id of idsToDeregister) this._nullifyCallback(id);\n    return this._send({msg: 'off', listenerKey, url, spec, eventType, callbackId}).then(() => {\n      for (const id of idsToDeregister) this._deregisterCallback(id);\n    });\n  }\n\n  _onCallback(handle, error, snapshotJson) {\n    if (error) {\n      this._deregisterCallback(handle.id);\n      const e = errorFromJson(error, handle.params);\n      if (handle.cancelCallback) {\n        handle.cancelCallback.call(handle.context, e);\n      } else {\n        console.error(e);\n      }\n    } else {\n      handle.snapshotCallback.call(handle.context, new Snapshot(snapshotJson));\n    }\n  }\n\n  transaction(url, oldValue, relativeUpdates) {\n    return this._send({msg: 'transaction', url, oldValue, relativeUpdates});\n  }\n\n  onDisconnect(url, method, value) {\n    return this._send({msg: 'onDisconnect', url, method, value});\n  }\n\n  bounceConnection() {\n    return this._send({msg: 'bounceConnection'});\n  }\n\n  callback({id, args}) {\n    const handle = this._callbacks[id];\n    if (!handle) throw new Error('Unregistered callback: ' + id);\n    handle.callback.apply(null, args);\n  }\n\n  _registerCallback(callback, handle) {\n    handle = handle || {};\n    handle.callback = callback;\n    handle.id = `cb${++this._idCounter}`;\n    this._callbacks[handle.id] = handle;\n    return handle.id;\n  }\n\n  _nullifyCallback(id) {\n    this._callbacks[id].callback = noop;\n  }\n\n  _deregisterCallback(id) {\n    delete this._callbacks[id];\n  }\n\n  _findAndRemoveCallbackId(callback, predicate) {\n    if (!callback.__callbackIds) return;\n    let i = 0;\n    while (i < callback.__callbackIds.length) {\n      const id = callback.__callbackIds[i];\n      const handle = this._callbacks[id];\n      if (!handle) {\n        callback.__callbackIds.splice(i, 1);\n        continue;\n      }\n      if (predicate(handle)) {\n        callback.__callbackIds.splice(i, 1);\n        return id;\n      }\n      i += 1;\n    }\n  }\n}\n\n\nfunction noop() {}\n\nfunction errorFromJson(json, params) {\n  if (!json || json instanceof Error) return json;\n  const error = new Error(json.message);\n  error.params = params;\n  for (const propertyName in json) {\n    if (propertyName === 'message' || !json.hasOwnProperty(propertyName)) continue;\n    try {\n      error[propertyName] = json[propertyName];\n    } catch (e) {\n      e.extra = {propertyName};\n      throw e;\n    }\n  }\n  return error;\n}\n\nfunction getUrlRoot(url) {\n  const k = url.indexOf('/', 8);\n  return k >= 8 ? url.slice(0, k) : url;\n}\n","import {escapeKey, unescapeKey, makePathMatcher} from './utils.js';\n\nimport _ from 'lodash';\n\n\nconst EMPTY_ANNOTATIONS = {};\nObject.freeze(EMPTY_ANNOTATIONS);\n\n\nexport class Handle {\n  constructor(tree, path, annotations) {\n    this._tree = tree;\n    this._path = path.replace(/^\\/*/, '/').replace(/\\/$/, '');\n    if (annotations) {\n      this._annotations = annotations;\n      Object.freeze(annotations);\n    }\n  }\n\n  get $ref() {return this;}\n  get key() {\n    if (!this._key) this._key = unescapeKey(this._path.replace(/.*\\//, ''));\n    return this._key;\n  }\n  get path() {return this._path;}\n  get _pathPrefix() {return this._path === '/' ? '' : this._path;}\n  get parent() {\n    return new Reference(this._tree, this._path.replace(/\\/[^/]*$/, ''), this._annotations);\n  }\n\n  get annotations() {\n    return this._annotations || EMPTY_ANNOTATIONS;\n  }\n\n  child() {\n    if (!arguments.length) return this;\n    const segments = [];\n    for (const key of arguments) {\n      if (key === undefined || key === null) return;\n      segments.push(escapeKey(key));\n    }\n    return new Reference(\n      this._tree, `${this._pathPrefix}/${segments.join('/')}`,\n      this._annotations\n    );\n  }\n\n  children() {\n    if (!arguments.length) return this;\n    const escapedKeys = [];\n    for (let i = 0; i < arguments.length; i++) {\n      const arg = arguments[i];\n      if (_.isArray(arg)) {\n        const mapping = {};\n        const subPath = `${this._pathPrefix}/${escapedKeys.join('/')}`;\n        const rest = _.slice(arguments, i + 1);\n        for (const key of arg) {\n          const subRef =\n            new Reference(this._tree, `${subPath}/${escapeKey(key)}`, this._annotations);\n          const subMapping = subRef.children.apply(subRef, rest);\n          if (subMapping) mapping[key] = subMapping;\n        }\n        if (_.isEmpty(mapping)) return;\n        return mapping;\n      } else {\n        if (arg === undefined || arg === null) return;\n        escapedKeys.push(escapeKey(arg));\n      }\n    }\n    return new Reference(\n      this._tree, `${this._pathPrefix}/${escapedKeys.join('/')}`, this._annotations);\n  }\n\n  peek(callback) {\n    return this._tree.truss.peek(this, callback);\n  }\n\n  match(pattern) {\n    return makePathMatcher(pattern).match(this.path);\n  }\n\n  isEqual(that) {\n    if (!(that instanceof Handle)) return false;\n    return this._tree === that._tree && this.toString() === that.toString();\n  }\n\n  belongsTo(truss) {\n    return this._tree.truss === truss;\n  }\n}\n\n\nexport class Query extends Handle {\n  constructor(tree, path, spec, annotations) {\n    super(tree, path, annotations);\n    this._spec = this._copyAndValidateSpec(spec);\n  }\n\n  // Vue-bound\n  get ready() {\n    return this._tree.isQueryReady(this);\n  }\n\n  get constraints() {\n    return this._spec;\n  }\n\n  annotate(annotations) {\n    return new Query(\n      this._tree, this._path, this._spec, _.extend({}, this._annotations, annotations));\n  }\n\n  _copyAndValidateSpec(spec) {\n    if (!spec.by) throw new Error('Query needs \"by\" clause: ' + JSON.stringify(spec));\n    if (('at' in spec) + ('from' in spec) + ('to' in spec) > 1) {\n      throw new Error(\n        'Query must contain at most one of \"at\", \"from\", or \"to\" clauses: ' + JSON.stringify(spec));\n    }\n    if (('first' in spec) + ('last' in spec) > 1) {\n      throw new Error(\n        'Query must contain at most one of \"first\" or \"last\" clauses: ' + JSON.stringify(spec));\n    }\n    if (!_.some(['at', 'from', 'to', 'first', 'last'], clause => clause in spec)) {\n      throw new Error(\n        'Query must contain at least one of \"at\", \"from\", \"to\", \"first\", or \"last\" clauses: ' +\n        JSON.stringify(spec));\n    }\n    spec = _.clone(spec);\n    if (spec.by !== '$key' && spec.by !== '$value') {\n      if (!(spec.by instanceof Reference)) {\n        throw new Error('Query \"by\" value must be a reference: ' + spec.by);\n      }\n      let childPath = spec.by.toString();\n      if (!_.startsWith(childPath, this._path)) {\n        throw new Error(\n          'Query \"by\" value must be a descendant of target reference: ' + spec.by);\n      }\n      childPath = childPath.slice(this._path.length).replace(/^\\/?/, '');\n      if (childPath.indexOf('/') === -1) {\n        throw new Error(\n          'Query \"by\" value must not be a direct child of target reference: ' + spec.by);\n      }\n      spec.by = childPath.replace(/.*?\\//, '');\n    }\n    Object.freeze(spec);\n    return spec;\n  }\n\n\n  toString() {\n    if (!this._string) {\n      const queryTerms = _(this._spec)\n        .map((value, key) => `${key}=${encodeURIComponent(JSON.stringify(value))}`)\n        .sortBy()\n        .join('&');\n      this._string = `${this._path}?${queryTerms}`;\n    }\n    return this._string;\n  }\n}\n\n\n// jshint latedef:false\nexport class Reference extends Handle {\n// jshint latedef:nofunc\n\n  constructor(tree, path, annotations) {\n    super(tree, path, annotations);\n  }\n\n  get ready() {return this._tree.isReferenceReady(this);}  // Vue-bound\n  get value() {return this._tree.getObject(this.path);}  // Vue-bound\n  toString() {return this._path;}\n\n  annotate(annotations) {\n    return new Reference(this._tree, this._path, _.extend({}, this._annotations, annotations));\n  }\n\n  query(spec) {\n    return new Query(this._tree, this._path, spec);\n  }\n\n  set(value) {\n    return this._tree.update(this, 'set', {[this.path]: value});\n  }\n\n  update(values) {\n    return this._tree.update(this, 'update', values);\n  }\n\n  override(value) {\n    return this._tree.update(this, 'override', {[this.path]: value});\n  }\n\n  commit(updateFunction) {\n    return this._tree.commit(this, updateFunction);\n  }\n}\n\nexport default Reference;\n","import {Handle, Query, Reference} from './Reference.js';\nimport angular from './angularCompatibility.js';\n\nimport _ from 'lodash';\nimport Vue from 'vue';\n\n\nexport default class Connector {\n  constructor(scope, connections, tree, method, refs) {\n    Object.freeze(connections);\n    this._scope = scope;\n    this._connections = connections;\n    this._tree = tree;\n    this._method = method;\n    this._refs = refs || {};\n    this._subConnectors = {};\n    this._currentDescriptors = {};\n    this._disconnects = {};\n    this._vue = new Vue({data: _.mapValues(connections, _.constant(undefined))});\n\n    this._linkScopeProperties();\n\n    _.each(connections, (descriptor, key) => {\n      if (_.isFunction(descriptor)) {\n        this._bindComputedConnection(key, descriptor);\n      } else {\n        this._connect(key, descriptor);\n      }\n    });\n\n    if (angular.active && scope && scope.$on && scope.$id) {\n      scope.$on('$destroy', () => {this.destroy();});\n    }\n  }\n\n  get ready() {\n    return _.every(this._currentDescriptors, (descriptor, key) => {\n      if (!descriptor) return false;\n      if (descriptor instanceof Handle) return descriptor.ready;\n      return this._subConnectors[key].ready;\n    });\n  }\n\n  get at() {\n    return this._refs;\n  }\n\n  destroy() {\n    this._unlinkScopeProperties();\n    _.each(this._angularUnwatches, unwatch => {unwatch();});\n    _.each(this._connections, (descriptor, key) => {this._disconnect(key);});\n    this._vue.$destroy();\n  }\n\n  _linkScopeProperties() {\n    if (!this._scope) return;\n    for (const key in this._connections) {\n      if (key in this._scope) {\n        throw new Error(`Property already defined on connection target: ${key}`);\n      }\n    }\n    Object.defineProperties(this._scope, _.mapValues(this._connections, (descriptor, key) => ({\n      configurable: true, enumerable: true, get: () => this._vue[key]\n    })));\n  }\n\n  _unlinkScopeProperties() {\n    if (!this._scope) return;\n    _.each(this._connections, (descriptor, key) => {\n      delete this._scope[key];\n    });\n  }\n\n  _bindComputedConnection(key, fn) {\n    const getter = this._computeConnection.bind(this, fn);\n    const update = this._updateComputedConnection.bind(this, key, fn);\n    // Use this._vue.$watch instead of truss.watch here so that we can disable the immediate\n    // callback if we'll get one from Angular anyway.\n    this._vue.$watch(getter, update, {immediate: !angular.active, deep: true});\n    if (angular.active) {\n      if (!this._angularUnwatches) this._angularUnwatches = [];\n      this._angularUnwatches.push(angular.watch(getter, update, true));\n    }\n  }\n\n  _computeConnection(fn) {\n    return flattenRefs(fn.call(this._scope));\n  }\n\n  _updateComputedConnection(key, value) {\n    const newDescriptor = _.isFunction(value) ? value(this._scope) : value;\n    const oldDescriptor = this._currentDescriptors[key];\n    if (oldDescriptor === newDescriptor ||\n        newDescriptor instanceof Handle && newDescriptor.isEqual(oldDescriptor)) return;\n    if (!newDescriptor) {\n      this._disconnect(key);\n      return;\n    }\n    if (newDescriptor instanceof Handle || !_.has(this._subConnectors, key)) {\n      this._disconnect(key);\n      this._connect(key, newDescriptor);\n    } else {\n      this._subConnectors[key]._updateConnections(newDescriptor);\n    }\n    this._currentDescriptors[key] = newDescriptor;\n  }\n\n  _updateConnections(connections) {\n    _.each(connections, (descriptor, key) => {\n      this._updateComputedConnection(key, descriptor);\n    });\n    _.each(this._connections, (descriptor, key) => {\n      if (!_.has(connections, key)) this._updateComputedConnection(key);\n    });\n    this._connections = connections;\n  }\n\n  _connect(key, descriptor) {\n    this._currentDescriptors[key] = descriptor;\n    if (!descriptor) return;\n    if (descriptor instanceof Reference) {\n      this._refs[key] = descriptor;\n      const updateFn = this._scope ? this._updateScopeRef.bind(this, key) : null;\n      this._disconnects[key] = this._tree.connectReference(descriptor, updateFn, this._method);\n    } else if (descriptor instanceof Query) {\n      this._refs[key] = descriptor;\n      const updateFn = this._scope ? this._updateScopeQuery.bind(this, key) : null;\n      this._disconnects[key] = this._tree.connectQuery(descriptor, updateFn, this._method);\n    } else {\n      const subScope = {}, subRefs = {};\n      this._refs[key] = subRefs;\n      const subConnector = this._subConnectors[key] =\n        new Connector(subScope, descriptor, this._tree, this._method, subRefs);\n      if (this._scope) {\n        // Use a truss.watch here instead of this._vue.$watch so that the \"immediate\" execution\n        // actually takes place after we've captured the unwatch function, in case the subConnector\n        // is ready immediately.\n        const unwatch = this._disconnects[key] = this._tree.truss.watch(\n          () => subConnector.ready,\n          subReady => {\n            if (!subReady) return;\n            unwatch();\n            delete this._disconnects[key];\n            Vue.set(this._vue, key, subScope);\n            angular.digest();\n          }\n        );\n      }\n    }\n  }\n\n  _disconnect(key) {\n    delete this._refs[key];\n    if (this._scope) this._updateScopeRef(key, undefined);\n    if (_.has(this._subConnectors, key)) {\n      this._subConnectors[key].destroy();\n      delete this._subConnectors[key];\n    }\n    if (this._disconnects[key]) this._disconnects[key]();\n    delete this._disconnects[key];\n    delete this._currentDescriptors[key];\n  }\n\n  _updateScopeRef(key, value) {\n    if (this._vue[key] !== value) {\n      Vue.set(this._vue, key, value);\n      angular.digest();\n    }\n  }\n\n  _updateScopeQuery(key, childKeys) {\n    let changed = false;\n    if (!this._vue[key]) {\n      Vue.set(this._vue, key, {});\n      changed = true;\n    }\n    const subScope = this._vue[key];\n    for (const childKey in subScope) {\n      if (!subScope.hasOwnProperty(childKey)) continue;\n      if (!_.contains(childKeys, childKey)) {\n        Vue.delete(subScope, childKey);\n        changed = true;\n      }\n    }\n    let object;\n    for (const segment of this._currentDescriptors[key].path.split('/')) {\n      object = segment ? object[segment] : this._tree.root;\n    }\n    for (const childKey of childKeys) {\n      if (subScope.hasOwnProperty(childKey)) continue;\n      Vue.set(subScope, childKey, object[childKey]);\n      changed = true;\n    }\n    if (changed) angular.digest();\n  }\n\n}\n\nfunction flattenRefs(refs) {\n  if (!refs) return;\n  if (refs instanceof Handle) return refs.toString();\n  return _.mapValues(refs, flattenRefs);\n}\n\n","import _ from 'lodash';\nimport {wrapPromiseCallback} from './utils.js';\n\n\nconst INTERCEPT_KEYS = [\n  'read', 'write', 'auth', 'set', 'update', 'commit', 'connect', 'peek', 'all'\n];\n\nconst EMPTY_ARRAY = [];\n\n\nclass SlowHandle {\n  constructor(operation, delay, callback) {\n    this._operation = operation;\n    this._delay = delay;\n    this._callback = callback;\n    this._fired = false;\n  }\n\n  initiate() {\n    this.cancel();\n    this._fired = false;\n    const elapsed = Date.now() - this._operation._startTimestamp;\n    this._timeoutId = setTimeout(this._delay - elapsed, () => {\n      this._fired = true;\n      this._callback(this._operation);\n    });\n  }\n\n  cancel() {\n    if (this._fired) this._callback(this._operation);\n    if (this._timeoutId) clearTimeout(this._timeoutId);\n  }\n}\n\n\nclass Operation {\n  constructor(type, method, target) {\n    this._type = type;\n    this._method = method;\n    this._target = target;\n    this._ready = false;\n    this._running = false;\n    this._ended = false;\n    this._tries = 0;\n    this._startTimestamp = Date.now();\n    this._slowHandles = [];\n  }\n\n  get type() {return this._type;}\n  get method() {return this._method;}\n  get target() {return this._target;}\n  get ready() {return this._ready;}\n  get running() {return this._running;}\n  get ended() {return this._ended;}\n  get tries() {return this._tries;}\n  get error() {return this._error;}\n\n  onSlow(delay, callback) {\n    const handle = new SlowHandle(this, delay, callback);\n    this._slowHandles.push(handle);\n    handle.initiate();\n  }\n\n  _setRunning(value) {\n    this._running = value;\n  }\n\n  _setEnded(value) {\n    this._ended = value;\n  }\n\n  _markReady() {\n    this._ready = true;\n    this._tries = 0;\n    _.each(this._slowHandles, handle => handle.cancel());\n  }\n\n  _clearReady() {\n    this._ready = false;\n    this._startTimestamp = Date.now();\n    _.each(this._slowHandles, handle => handle.initiate());\n  }\n\n  _incrementTries() {\n    this._tries++;\n  }\n}\n\n\nexport default class Dispatcher {\n  constructor(bridge) {\n    this._bridge = bridge;\n    this._callbacks = {};\n  }\n\n  intercept(interceptKey, callbacks) {\n    if (!_.contains(INTERCEPT_KEYS, interceptKey)) {\n      throw new Error('Unknown intercept operation type: ' + interceptKey);\n    }\n    const badCallbackKeys =\n      _.difference(_.keys(callbacks), ['onBefore', 'onAfter', 'onError', 'onFailure']);\n    if (badCallbackKeys.length) {\n      throw new Error('Unknown intercept callback types: ' + badCallbackKeys.join(', '));\n    }\n    const wrappedCallbacks = {\n      onBefore: this._addCallback('onBefore', interceptKey, callbacks.onBefore),\n      onAfter: this._addCallback('onAfter', interceptKey, callbacks.onAfter),\n      onError: this._addCallback('onError', interceptKey, callbacks.onError),\n      onFailure: this._addCallback('onFailure', interceptKey, callbacks.onFailure)\n    };\n    return this._removeCallbacks.bind(this, interceptKey, wrappedCallbacks);\n  }\n\n  _addCallback(stage, interceptKey, callback) {\n    if (!callback) return;\n    const key = this._getCallbacksKey(stage, interceptKey);\n    const wrappedCallback = wrapPromiseCallback(callback);\n    (this._callbacks[key] || (this._callbacks[key] = [])).push(wrappedCallback);\n    return wrappedCallback;\n  }\n\n  _removeCallback(stage, interceptKey, wrappedCallback) {\n    if (!wrappedCallback) return;\n    const key = this._getCallbacksKey(stage, interceptKey);\n    if (this._callbacks[key]) _.pull(this._callbacks[key], wrappedCallback);\n  }\n\n  _removeCallbacks(interceptKey, wrappedCallbacks) {\n    _.each(wrappedCallbacks, (wrappedCallback, stage) => {\n      this._removeCallback(stage, interceptKey, wrappedCallback);\n    });\n  }\n\n  _getCallbacks(stage, operationType, method) {\n    return [].concat(\n      this._callbacks[this._getCallbacksKey(stage, method)] || EMPTY_ARRAY,\n      this._callbacks[this._getCallbacksKey(stage, operationType)] || EMPTY_ARRAY,\n      this._callbacks[this._getCallbacksKey(stage, 'all')] || EMPTY_ARRAY\n    );\n  }\n\n  _getCallbacksKey(stage, interceptKey) {\n    return `${stage}_${interceptKey}`;\n  }\n\n  execute(operationType, method, target, executor) {\n    executor = wrapPromiseCallback(executor);\n    const operation = this.createOperation(operationType, method, target);\n    return this.begin(operation).then(() => {\n      const executeWithRetries = () => {\n        return executor().catch(e => this._retryOrEnd(operation, e).then(executeWithRetries));\n      };\n      return executeWithRetries();\n    }).then(result => this.end(operation).then(() => result));\n  }\n\n  createOperation(operationType, method, target) {\n    return new Operation(operationType, method, target);\n  }\n\n  begin(operation) {\n    return Promise.all(_.map(\n      this._getCallbacks('onBefore', operation.type, operation.method),\n      onBefore => onBefore(operation)\n    )).then(() => {\n      if (!operation.ended) operation._setRunning(true);\n    }, e => this.end(operation, e));\n  }\n\n  markReady(operation) {\n    operation._markReady();\n  }\n\n  clearReady(operation) {\n    operation._clearReady();\n  }\n\n  retry(operation, error) {\n    operation._incrementTries();\n    operation._error = error;\n    return Promise.all(_.map(\n      this._getCallbacks('onError', operation.type, operation.method),\n      onError => onError(operation, error)\n    )).then(results => {\n      const retrying = _.some(results);\n      if (retrying) delete operation._error;\n      return retrying;\n    });\n  }\n\n  _retryOrEnd(operation, error) {\n    return this.retry(operation, error).then(result => {\n      if (!result) return this.end(operation, error);\n    }, e => this.end(operation, e));\n  }\n\n  end(operation, error) {\n    if (operation.ended) return;\n    operation._setRunning(false);\n    operation._setEnded(true);\n    if (error) operation._error = error;\n    return Promise.all(_.map(\n      this._getCallbacks('onAfter', operation.type, operation.method),\n      onAfter => onAfter(operation)\n    )).then(\n      () => this._afterEnd(operation),\n      e => {\n        operation._error = e;\n        return this._afterEnd(operation);\n      }\n    );\n  }\n\n  _afterEnd(operation) {\n    this.markReady(operation);\n    if (operation.error) {\n      const onFailureCallbacks = this._getCallbacks('onFailure', operation.type, operation.method);\n      return this._bridge.probeError(operation.error).then(() => {\n        if (onFailureCallbacks) {\n          setTimeout(() => {\n            _.each(onFailureCallbacks, onFailure => onFailure(operation));\n          }, 0);\n        }\n        return Promise.reject(operation.error);\n      });\n    }\n  }\n}\n\n","'use strict';\n\nconst ALPHABET = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n\nexport default class KeyGenerator {\n  constructor() {\n    this._lastUniqueKeyTime = 0;\n    this._lastRandomValues = [];\n  }\n\n  generateUniqueKey(now) {\n    now = now || Date.now();\n    const chars = new Array(20);\n    let prefix = now;\n    for (let i = 7; i >= 0; i--) {\n      chars[i] = ALPHABET.charAt(prefix & 0x3f);\n      prefix = Math.floor(prefix / 64);\n    }\n    if (now === this._lastUniqueKeyTime) {\n      let i = 11;\n      while (i >= 0 && this._lastRandomValues[i] === 63) {\n        this._lastRandomValues[i] = 0;\n        i -= 1;\n      }\n      if (i === -1) {\n        throw new Error('Internal assertion failure: ran out of unique IDs for this millisecond');\n      }\n      this._lastRandomValues[i] += 1;\n    } else {\n      this._lastUniqueKeyTime = now;\n      for (let i = 0; i < 12; i++) {\n        // Make sure to leave some space for incrementing in the top nibble.\n        this._lastRandomValues[i] = Math.floor(Math.random() * (i ? 64 : 16));\n      }\n    }\n    for (let i = 0; i < 12; i++) {\n      chars[i + 8] = ALPHABET[this._lastRandomValues[i]];\n    }\n    return chars.join('');\n  }\n}\n","import angularCompatibility from './angularCompatibility.js';\nimport Vue from 'vue';\n\nexport default class MetaTree {\n  constructor(rootUrl, bridge) {\n    this._rootUrl = rootUrl;\n    this._bridge = bridge;\n    this._vue = new Vue({data: {$root: {\n      connected: undefined, timeOffset: 0, user: undefined, userid: undefined,\n      updateNowAtIntervals(name, intervalMillis) {\n        if (this.hasOwnProperty(name)) throw new Error(`Property \"${name}\" already defined`);\n        Vue.set(this, name, Date.now() + this.timeOffset);\n        setInterval(() => {\n          this[name] = Date.now() + this.timeOffset;\n        }, intervalMillis);\n      }\n    }}});\n\n    if (angularCompatibility.active) {\n      this._vue.$watch('$data', angularCompatibility.digest, {deep: true});\n    }\n\n    bridge.onAuth(rootUrl, this._handleAuthChange, this);\n\n    this._connectInfoProperty('serverTimeOffset', 'timeOffset');\n    this._connectInfoProperty('connected', 'connected');\n  }\n\n  get root() {\n    return this._vue.$data.$root;\n  }\n\n  destroy() {\n    this._bridge.offAuth(this._rootUrl, this._handleAuthChange, this);\n    this._vue.$destroy();\n  }\n\n  _handleAuthChange(user) {\n    this.root.user = user;\n    this.root.userid = user && user.uid;\n  }\n\n  _connectInfoProperty(property, attribute) {\n    const propertyUrl = `${this._rootUrl}/.info/${property}`;\n    this._bridge.on(propertyUrl, propertyUrl, null, 'value', snap => {\n      this.root[attribute] = snap.value;\n    });\n  }\n}\n","import _ from 'lodash';\nimport Vue from 'vue';\nimport angularCompatibility from './angularCompatibility.js';\n\n\nclass QueryHandler {\n  constructor(coupler, query) {\n    this._coupler = coupler;\n    this._query = query;\n    this._listeners = [];\n    this._keys = [];\n    this._url = this._coupler._rootUrl + query.path;\n    this._segments = query.path.split('/');\n    this._listening = false;\n    this.ready = false;\n  }\n\n  attach(operation, keysCallback) {\n    this._listen();\n    this._listeners.push({operation, keysCallback});\n    keysCallback(this._keys);\n  }\n\n  detach(operation) {\n    const k = _.findIndex(this._listeners, {operation});\n    if (k >= 0) this._listeners.splice(k, 1);\n    return this._listeners.length;\n  }\n\n  _listen() {\n    if (this._listening) return;\n    this._coupler._bridge.on(\n      this._query.toString(), this._url, this._query.constraints, 'value',\n      this._handleSnapshot, this._handleError.bind(this._query.path), this, {sync: true});\n    this._listening = true;\n  }\n\n  destroy() {\n    this._coupler._bridge.off(\n      this._query.toString(), this._url, this._query.constraints, 'value', this._handleSnapshot,\n      this);\n    this._listening = false;\n    this.ready = false;\n    angularCompatibility.digest();\n    for (const key of this._keys) {\n      this._coupler._decoupleSegments(this._segments.concat(key));\n    }\n  }\n\n  _handleSnapshot(snap) {\n    // Order is important here: first couple any new subpaths so _handleSnapshot will update the\n    // tree, then tell the client to update its keys, pulling values from the tree.\n    if (!this._listeners.length || !this._listening) return;\n    const updatedKeys = this._updateKeys(snap);\n    this._coupler._applySnapshot(snap);\n    if (!this.ready) {\n      this.ready = true;\n      angularCompatibility.digest();\n      for (const listener of this._listeners) {\n        this._coupler._dispatcher.markReady(listener.operation);\n      }\n    }\n    if (updatedKeys) {\n      for (const listener of this._listeners) listener.keysCallback(updatedKeys);\n    }\n  }\n\n  _updateKeys(snap) {\n    let updatedKeys;\n    if (snap.path === this._query.path) {\n      updatedKeys = _.keys(snap.value);\n      updatedKeys.sort();\n      if (_.isEqual(this._keys, updatedKeys)) {\n        updatedKeys = null;\n      } else {\n        for (const key of _.difference(updatedKeys, this._keys)) {\n          this._coupler._coupleSegments(this._segments.concat(key));\n        }\n        for (const key of _.difference(this._keys, updatedKeys)) {\n          this._coupler._decoupleSegments(this._segments.concat(key));\n        }\n        this._keys = updatedKeys;\n      }\n    } else if (snap.path.replace(/\\/[^/]+/, '') === this._query.path) {\n      const hasKey = _.contains(this._keys, snap.key);\n      if (snap.value) {\n        if (!hasKey) {\n          this._coupler._coupleSegments(this._segments.concat(snap.key));\n          this._keys.push(snap.key);\n          this._keys.sort();\n          updatedKeys = this._keys;\n        }\n      } else {\n        if (hasKey) {\n          this._coupler._decoupleSegments(this._segments.concat(snap.key));\n          _.pull(this._keys, snap.key);\n          this._keys.sort();\n          updatedKeys = this._keys;\n        }\n      }\n    }\n    return updatedKeys;\n  }\n\n  _handleError(error) {\n    if (!this._listeners.length || !this._listening) return;\n    this._listening = false;\n    Promise.all(_.map(this._listeners, listener => {\n      this._coupler._dispatcher.clearReady(listener.operation);\n      return this._coupler._dispatcher.retry(listener.operation, error).catch(e => {\n        listener.operation._disconnect(e);\n        return false;\n      });\n    })).then(results => {\n      if (_.some(results)) {\n        if (this._listeners.length) this._listen();\n      } else {\n        for (const listener of this._listeners) listener.operation._disconnect(error);\n      }\n    });\n  }\n}\n\n\nclass Node {\n  constructor(coupler, path) {\n    this._coupler = coupler;\n    this.path = path;\n    this.url = this._coupler._rootUrl + path;\n    this.operations = [];\n    this.queryCount = 0;\n    this.listening = false;\n    this.ready = false;\n    this.children = {};\n  }\n\n  get active() {\n    return this.count || this.queryCount;\n  }\n\n  get count() {\n    return this.operations.length;\n  }\n\n  listen(skip) {\n    if (!skip && this.count) {\n      if (this.listening) return;\n      _.each(this.operations, op => {this._coupler._dispatcher.clearReady(op);});\n      this._coupler._bridge.on(\n        this.url, this.url, null, 'value', this._handleSnapshot, this._handleError.bind(this),\n        this, {sync: true});\n      this.listening = true;\n    } else {\n      _.each(this.children, child => {child.listen();});\n    }\n  }\n\n  unlisten(skip) {\n    if (!skip && this.listening) {\n      this._coupler._bridge.off(this.url, this.url, null, 'value', this._handleSnapshot, this);\n      this.listening = false;\n      this._forAllDescendants(node => {\n        if (node.ready) {\n          node.ready = false;\n          angularCompatibility.digest();\n        }\n      });\n    } else {\n      _.each(this.children, child => {child.unlisten();});\n    }\n  }\n\n  _handleSnapshot(snap) {\n    if (!this.listening || !this._coupler.isTrunkCoupled(snap.path)) return;\n    this._coupler._applySnapshot(snap);\n    if (!this.ready && snap.path === this.path) {\n      this.ready = true;\n      angularCompatibility.digest();\n      this.unlisten(true);\n      this._forAllDescendants(node => {\n        for (const op of this.operations) this._coupler._dispatcher.markReady(op);\n      });\n    }\n  }\n\n  _handleError(error) {\n    if (!this.count || !this.listening) return;\n    this.listening = false;\n    this._forAllDescendants(node => {\n      if (node.ready) {\n        node.ready = false;\n        angularCompatibility.digest();\n      }\n      for (const op of this.operations) this._coupler._dispatcher.clearReady(op);\n    });\n    return Promise.all(_.map(this.operations, op => {\n      return this._coupler._dispatcher.retry(op, error).catch(e => {\n        op._disconnect(e);\n        return false;\n      });\n    })).then(results => {\n      if (_.some(results)) {\n        if (this.count) this.listen();\n      } else {\n        for (const op of this.operations) op._disconnect(error);\n        // Pulling all the operations will automatically get us listening on descendants.\n      }\n    });\n  }\n\n  _forAllDescendants(iteratee) {\n    iteratee(this);\n    _.each(this.children, child => child._forAllDescendants(iteratee));\n  }\n\n  collectCoupledDescendantPaths(paths) {\n    if (!paths) paths = {};\n    paths[this.path] = this.active;\n    if (!this.active) {\n      _.each(this.children, child => {child.collectCoupledDescendantPaths(paths);});\n    }\n    return paths;\n  }\n}\n\n\nexport default class Coupler {\n  constructor(rootUrl, bridge, dispatcher, applySnapshot, prunePath) {\n    this._rootUrl = rootUrl;\n    this._bridge = bridge;\n    this._dispatcher = dispatcher;\n    this._applySnapshot = applySnapshot;\n    this._prunePath = prunePath;\n    this._vue = new Vue({data: {root: new Node(this, '/'), queryHandlers: {}}});\n  }\n\n  get _root() {return this._vue.root;}\n  get _queryHandlers() {return this._vue.queryHandlers;}\n\n  destroy() {\n    _.each(this._queryHandlers, queryHandler => {queryHandler.destroy();});\n    this._root.unlisten();\n    this._vue.$destroy();\n  }\n\n  couple(path, operation) {\n    return this._coupleSegments(path.split('/'), operation);\n  }\n\n  _coupleSegments(segments, operation) {\n    let node;\n    let superseded = !operation;\n    let ready = false;\n    for (const segment of segments) {\n      let child = segment ? node.children && node.children[segment] : this._root;\n      if (!child) {\n        child = new Node(this, `${node.path === '/' ? '' : node.path}/${segment}`);\n        Vue.set(node.children, segment, child);\n      }\n      superseded = superseded || child.listening;\n      ready = ready || child.ready;\n      node = child;\n    }\n    if (operation) {\n      node.operations.push(operation);\n    } else {\n      node.queryCount++;\n    }\n    if (superseded) {\n      if (operation && ready) this._dispatcher.markReady(operation);\n    } else {\n      node.listen();  // node will call unlisten() on descendants when ready\n    }\n  }\n\n  decouple(path, operation) {\n    return this._decoupleSegments(path.split('/'), operation);\n  }\n\n  _decoupleSegments(segments, operation) {\n    const ancestors = [];\n    let node;\n    for (const segment of segments) {\n      node = segment ? node.children && node.children[segment] : this._root;\n      if (!node) break;\n      ancestors.push(node);\n    }\n    if (!node || !(operation ? node.count : node.queryCount)) {\n      throw new Error(`Path not coupled: ${segments.join('/')}`);\n    }\n    if (operation) {\n      _.pull(node.operations, operation);\n    } else {\n      node.queryCount--;\n    }\n    if (operation && !node.count) {\n      // Ideally, we wouldn't resync the full values here since we probably already have the current\n      // value for all children.  But making sure that's true is tricky in an async system (what if\n      // the node's value changes and the update crosses the 'off' call in transit?) and this\n      // situation should be sufficiently rare that the optimization is probably not worth it right\n      // now.\n      node.listen();\n      if (node.listening) node.unlisten();\n    }\n    if (!node.active) {\n      for (let i = ancestors.length - 1; i > 0; i--) {\n        node = ancestors[i];\n        if (node === this._root || node.active || !_.isEmpty(node.children)) break;\n        Vue.delete(ancestors[i - 1].children, segments[i]);\n      }\n      this._prunePath(segments.join('/'), this.findCoupledDescendantPaths(segments));\n    }\n  }\n\n  subscribe(query, operation, keysCallback) {\n    let queryHandler = this._queryHandlers[query.toString()];\n    if (!queryHandler) {\n      queryHandler = new QueryHandler(this, query);\n      Vue.set(this._queryHandlers, query.toString(), queryHandler);\n    }\n    queryHandler.attach(operation, keysCallback);\n }\n\n  unsubscribe(query, operation) {\n    const queryHandler = this._queryHandlers[query.toString()];\n    if (queryHandler && !queryHandler.detach(operation)) {\n      queryHandler.destroy();\n      Vue.delete(this._queryHandlers, query.toString());\n    }\n  }\n\n  // Return whether the node at path or any ancestors are coupled.\n  isTrunkCoupled(path) {\n    const segments = path.split('/');\n    let node;\n    for (const segment of segments) {\n      node = segment ? node.children && node.children[segment] : this._root;\n      if (!node) return false;\n      if (node.active) return true;\n    }\n    return false;\n  }\n\n  findCoupledDescendantPaths(pathOrSegments) {\n    const segments = _.isString(pathOrSegments) ? pathOrSegments.split('/') : pathOrSegments;\n    let node;\n    for (const segment of segments) {\n      node = segment ? node.children && node.children[segment] : this._root;\n      if (!node) break;\n    }\n    return node && node.collectCoupledDescendantPaths();\n  }\n\n  isSubtreeReady(path) {\n    const segments = path.split('/');\n    let node;\n    for (const segment of segments) {\n      node = segment ? node.children && node.children[segment] : this._root;\n      if (!node) return false;\n      if (node.ready) return true;\n    }\n    return false;\n  }\n\n  isQueryReady(query) {\n    const queryHandler = this._queryHandlers[query.toString()];\n    return queryHandler && queryHandler.ready;\n  }\n\n}\n\n","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","import Reference from './Reference.js';\nimport {makePathMatcher, joinPath, escapeKey, unescapeKey} from './utils.js';\n\nimport _ from 'lodash';\nimport performanceNow from 'performance-now';\n\n// These are defined separately for each object so they're not included in Value below.\nconst RESERVED_VALUE_PROPERTY_NAMES = {\n  $truss: true, $parent: true, $key: true, $path: true, $ref: true,\n  $$touchThis: true, $$initializers: true, $$finalizers: true,\n  __ob__: true\n};\n\nconst computedPropertyStats = {};\n\n\nclass Value {\n  get $truss() {\n    Object.defineProperty(this, '$truss', {value: this.$parent.$truss});\n    return this.$truss;\n  }\n  get $ref() {\n    Object.defineProperty(this, '$ref', {value: new Reference(this.$truss._tree, this.$path)});\n    return this.$ref;\n  }\n  get $refs() {return this.$ref;}\n  get $key() {\n    Object.defineProperty(\n      this, '$key', {value: unescapeKey(this.$path.slice(this.$path.lastIndexOf('/') + 1))});\n    return this.$key;\n  }\n  get $keys() {return _.keys(this);}\n  get $values() {return _.values(this);}\n  get $root() {return this.$truss.root;}  // access indirectly to leave dependency trace\n  get $ready() {return this.$ref.ready;}\n  get $overridden() {return false;}\n\n  $watch(subjectFn, callbackFn, options) {\n    let unwatchAndRemoveDestructor;\n\n    const unwatch = this.$truss.watch(() => {\n      this.$$touchThis();\n      return subjectFn.call(this);\n    }, callbackFn.bind(this), options);\n\n    unwatchAndRemoveDestructor = () => {\n      unwatch();\n      _.pull(this.$$finalizers, unwatchAndRemoveDestructor);\n    };\n    this.$$finalizers.push(unwatchAndRemoveDestructor);\n    return unwatchAndRemoveDestructor;\n  }\n\n  $when(expression, options) {\n    const promise = this.$truss.when(() => {\n      this.$$touchThis();\n      return expression.call(this);\n    }, options);\n\n    const originalCancel = promise.cancel;\n    promise.cancel = () => {\n      originalCancel();\n      _.pull(this.$$finalizers, promise.cancel);\n    };\n    this.$$finalizers.push(promise.cancel);\n    return promise;\n  }\n\n  $set(value) {return this.$ref.set(value);}\n  $update(values) {return this.$ref.update(values);}\n  $override(values) {return this.$ref.override(values);}\n  $commit(options, updateFn) {return this.$ref.commit(options, updateFn);}\n\n  $$touchThis() {\n    // jshint expr:true\n    if (this.$parent) this.$parent[this.$key]; else this.$root;\n    // jshint expr:false\n  }\n\n  get $$finalizers() {\n    Object.defineProperty(this, '$$finalizers', {\n      value: [], writable: false, enumerable: false, configurable: false});\n    return this.$$finalizers;\n  }\n}\n\nclass ComputedPropertyStats {\n  constructor(name) {\n    _.extend(this, {name, numRecomputes: 0, numUpdates: 0, runtime: 0});\n  }\n}\n\nclass ErrorWrapper {\n  constructor(error) {\n    this.error = error;\n  }\n}\n\n\nexport default class Modeler {\n  constructor(classes) {\n    this._mounts = _(classes).uniq().map(Class => this._mountClass(Class)).flatten().value();\n    const patterns = _.map(this._mounts, mount => mount.matcher.toString());\n    if (patterns.length !== _.uniq(patterns).length) {\n      const badPaths = _(patterns)\n        .groupBy()\n        .map((group, key) =>\n          group.length === 1 ? null : key.replace(/\\(\\[\\^\\/\\]\\+\\)/g, '$').slice(1, -1))\n        .compact()\n        .value();\n      throw new Error('Paths have multiple mounted classes: ' + badPaths.join(', '));\n    }\n  }\n\n  destroy() {\n  }\n\n  _augmentClass(Class) {\n    let computedProperties;\n    let proto = Class.prototype;\n    while (proto && proto.constructor !== Object) {\n      for (const name of Object.getOwnPropertyNames(proto)) {\n        const descriptor = Object.getOwnPropertyDescriptor(proto, name);\n        if (name.charAt(0) === '$') {\n          if (_.isEqual(descriptor, Object.getOwnPropertyDescriptor(Value.prototype, name))) {\n            continue;\n          }\n          throw new Error(`Property names starting with \"$\" are reserved: ${Class.name}.${name}`);\n        }\n        if (descriptor.set) {\n          throw new Error(`Computed properties must not have a setter: ${Class.name}.${name}`);\n        }\n        if (descriptor.get && !(computedProperties && computedProperties[name])) {\n          (computedProperties || (computedProperties = {}))[name] = {\n            name, fullName: `${proto.constructor.name}.${name}`, get: descriptor.get\n          };\n        }\n      }\n      proto = Object.getPrototypeOf(proto);\n    }\n    for (const name of Object.getOwnPropertyNames(Value.prototype)) {\n      if (name === 'constructor' || Class.prototype.hasOwnProperty(name)) continue;\n      Object.defineProperty(\n        Class.prototype, name, Object.getOwnPropertyDescriptor(Value.prototype, name));\n    }\n    return computedProperties;\n  }\n\n  _mountClass(Class) {\n    const computedProperties = this._augmentClass(Class);\n    let mounts = Class.$trussMount;\n    if (!mounts) throw new Error(`Class ${Class.name} lacks a $trussMount static property`);\n    if (!_.isArray(mounts)) mounts = [mounts];\n    return _.map(mounts, mount => {\n      if (_.isString(mount)) mount = {path: mount};\n      const matcher = makePathMatcher(mount.path);\n      for (const variable of matcher.variables) {\n        if (variable === '$' || variable.charAt(1) === '$') {\n          throw new Error(`Invalid variable name: ${variable}`);\n        }\n        if (variable.charAt(0) === '$' && (\n            _.has(Value.prototype, variable) || RESERVED_VALUE_PROPERTY_NAMES[variable]\n        )) {\n          throw new Error(`Variable name conflicts with built-in property or method: ${variable}`);\n        }\n      }\n      const escapedKey = mount.path.match(/\\/([^/]*)$/)[1];\n      if (mount.placeholder && escapedKey.charAt(0) === '$') {\n        throw new Error(\n          `Class ${Class.name} mounted at wildcard ${escapedKey} cannot be a placeholder`);\n      }\n      return {Class, matcher, computedProperties, escapedKey, placeholder: mount.placeholder};\n    });\n  }\n\n  /**\n   * Creates a Truss object and sets all its basic properties: path segment variables, user-defined\n   * properties, and computed properties.  The latter two will be enumerable so that Vue will pick\n   * them up and make the reactive, so you should call _completeCreateObject once it's done so and\n   * before any Firebase properties are added.\n   */\n  createObject(path, properties, truss) {\n    let Class = Value;\n    let computedProperties;\n    for (const mount of this._mounts) {\n      const match = mount.matcher.match(path);\n      if (match) {\n        Class = mount.Class;\n        computedProperties = mount.computedProperties;\n        for (const variable in match) {\n          properties[variable] = {\n            value: match[variable], writable: false, configurable: false, enumerable: false\n          };\n        }\n        break;\n      }\n    }\n\n    const object = new Class(truss);\n\n    if (computedProperties) {\n      _.each(computedProperties, prop => {\n        properties[prop.name] = this._buildComputedPropertyDescriptor(object, prop);\n      });\n    }\n\n    return object;\n  }\n\n  _buildComputedPropertyDescriptor(object, prop) {\n    if (!computedPropertyStats[prop.fullName]) {\n      Object.defineProperty(computedPropertyStats, prop.fullName, {\n        value: new ComputedPropertyStats(prop.fullName), writable: false, enumerable: true,\n        configurable: false\n      });\n    }\n    const stats = computedPropertyStats[prop.fullName];\n\n    let value;\n    let writeAllowed = false;\n    let firstCallback = true;\n\n    if (!object.$$initializers) {\n      Object.defineProperty(object, '$$initializers', {\n        value: [], writable: false, enumerable: false, configurable: true});\n    }\n    object.$$initializers.push(vue => {\n      object.$$finalizers.push(\n        vue.$watch(computeValue.bind(object, prop, stats), newValue => {\n          if (firstCallback) {\n            stats.numUpdates += 1;\n            value = newValue;\n            firstCallback = false;\n          } else {\n            if (_.isEqual(value, newValue, isTrussValueEqual)) return;\n            stats.numUpdates += 1;\n            writeAllowed = true;\n            object[prop.name] = newValue;\n            writeAllowed = false;\n          }\n        }, {immediate: true})  // use immediate:true since watcher will run computeValue anyway\n      );\n    });\n    return {\n      enumerable: true, configurable: true,\n      get: function() {\n        if (value instanceof ErrorWrapper) throw value.error;\n        return value;\n      },\n      set: function(newValue) {\n        if (!writeAllowed) throw new Error(`You cannot set a computed property: ${prop.name}`);\n        value = newValue;\n      }\n    };\n  }\n\n  isPlaceholder(path) {\n    // TODO: optimize by precomputing a single all-placeholder-paths regex\n    return _.some(this._mounts, mount => mount.placeholder && mount.matcher.test(path));\n  }\n\n  forEachPlaceholderChild(path, iteratee) {\n    _.each(this._mounts, mount => {\n      if (mount.placeholder && mount.matcher.testParent(path)) {\n        iteratee(mount.escapedKey, mount.placeholder);\n      }\n    });\n  }\n\n  checkVueObject(object, path) {\n    for (const key of Object.getOwnPropertyNames(object)) {\n      if (RESERVED_VALUE_PROPERTY_NAMES[key]) continue;\n      const descriptor = Object.getOwnPropertyDescriptor(object, key);\n      if ('value' in descriptor || !descriptor.get || !descriptor.set) {\n        throw new Error(`Firetruss object at ${path} has a rogue property: ${key}`);\n      }\n      const value = object[key];\n      if (_.isObject(value)) this.checkVueObject(value, joinPath(path, escapeKey(key)));\n    }\n  }\n\n  static get computedPropertyStats() {\n    return computedPropertyStats;\n  }\n}\n\n\nfunction computeValue(prop, stats) {\n  // jshint validthis: true\n  // Touch this object, since a failed access to a missing property doesn't get captured as a\n  // dependency.\n  this.$$touchThis();\n\n  const startTime = performanceNow();\n  try {\n    return prop.get.call(this);\n  } catch (e) {\n    return new ErrorWrapper(e);\n  } finally {\n    stats.runtime += performanceNow() - startTime;\n    stats.numRecomputes += 1;\n  }\n  // jshint validthis: false\n}\n\nfunction isTrussValueEqual(a, b) {\n  if (a && a.$truss || b && b.$truss) return a === b;\n}\n","import angularCompatibility from './angularCompatibility.js';\nimport Coupler from './Coupler.js';\nimport Modeler from './Modeler.js';\nimport {escapeKey, unescapeKey, joinPath, SERVER_TIMESTAMP} from './utils.js';\n\nimport _ from 'lodash';\nimport Vue from 'vue';\n\n\nclass Transaction {\n  constructor(path, tree) {\n    this._path = path;\n    this._tree = tree;\n  }\n\n  get currentValue() {return this._tree.getObject(this._path);}\n  get outcome() {return this._outcome;}\n  get values() {return this._values;}\n\n  _setOutcome(value) {\n    if (this._outcome) throw new Error('Transaction already resolved with ' + this._outcome);\n    this._outcome = value;\n  }\n\n  abort() {\n    this._setOutcome('abort');\n  }\n\n  cancel() {\n    this._setOutcome('cancel');\n  }\n\n  set(value) {\n    if (value === undefined) throw new Error('Invalid argument: undefined');\n    this._setOutcome('set');\n    this._values = {'': value};\n  }\n\n  update(values) {\n    if (values === undefined) throw new Error('Invalid argument: undefined');\n    if (_.isEmpty(values)) return this.cancel();\n    this._setOutcome('update');\n    this._values = values;\n  }\n}\n\n\nexport default class Tree {\n  constructor(truss, rootUrl, bridge, dispatcher) {\n    this._truss = truss;\n    this._rootUrl = rootUrl;\n    this._bridge = bridge;\n    this._dispatcher = dispatcher;\n    this._firebasePropertyEditAllowed = false;\n    this._writeSerial = 0;\n    this._localWrites = {};\n    this._localWriteTimestamp = null;\n    this._coupler = new Coupler(\n      rootUrl, bridge, dispatcher, this._integrateSnapshot.bind(this), this._prune.bind(this));\n    this._vue = new Vue({data: {$root: undefined}});\n    if (angularCompatibility.active) {\n      this._vue.$watch('$data', angularCompatibility.digest, {deep: true});\n    }\n    // Call this.init(classes) to complete initialization; we need two phases so that truss can bind\n    // the tree into its own accessors prior to defining computed functions, which may try to\n    // access the tree root via truss.\n  }\n\n  get root() {\n    return this._vue.$data.$root;\n  }\n\n  get truss() {\n    return this._truss;\n  }\n\n  init(classes) {\n    this._modeler = new Modeler(classes);\n    this._vue.$data.$root = this._createObject('/', '');\n    this._completeCreateObject(this.root);\n    this._plantPlaceholders(this.root, '/');\n  }\n\n  destroy() {\n    this._coupler.destroy();\n    if (this._modeler) this._modeler.destroy();\n    this._vue.$destroy();\n  }\n\n  connectReference(ref, valueCallback, method) {\n    this._checkHandle(ref);\n    const operation = this._dispatcher.createOperation('read', method, ref);\n    let unwatch;\n    if (valueCallback) {\n      const segments = _(ref.path).split('/').map(segment => unescapeKey(segment)).value();\n      unwatch = this._vue.$watch(\n        this.getObject.bind(this, segments), valueCallback, {immediate: true});\n    }\n    operation._disconnect = this._disconnectReference.bind(this, ref, operation, unwatch);\n    this._dispatcher.begin(operation).then(() => {\n      if (operation.running && !operation._disconnected) {\n        this._coupler.couple(ref.path, operation);\n        operation._coupled = true;\n      }\n    }).catch(e => {});  // ignore exception, let onFailure handlers deal with it\n    return operation._disconnect;\n  }\n\n  _disconnectReference(ref, operation, unwatch, error) {\n    if (operation._disconnected) return;\n    operation._disconnected = true;\n    if (unwatch) unwatch();\n    if (operation._coupled) {\n      this._coupler.decouple(ref.path, operation);  // will call back to _prune if necessary\n      operation._coupled = false;\n    }\n    this._dispatcher.end(operation, error).catch(e => {});\n  }\n\n  isReferenceReady(ref) {\n    this._checkHandle(ref);\n    return this._coupler.isSubtreeReady(ref.path);\n  }\n\n  connectQuery(query, keysCallback, method) {\n    this._checkHandle(query);\n    const operation = this._dispatcher.createOperation('read', method, query);\n    operation._disconnect = this._disconnectQuery.bind(this, query, operation);\n    this._dispatcher.begin(operation).then(() => {\n      if (operation.running && !operation._disconnected) {\n        this._coupler.subscribe(query, operation, keysCallback);\n        operation._coupled = true;\n      }\n    }).catch(e => {});  // ignore exception, let onFailure handlers deal with it\n    return operation._disconnect;\n  }\n\n  _disconnectQuery(query, operation, error) {\n    if (operation._disconnected) return;\n    operation._disconnected = true;\n    if (operation._coupled) {\n      this._coupler.unsubscribe(query, operation);  // will call back to _prune if necessary\n      operation._coupled = false;\n    }\n    this._dispatcher.end(operation, error).catch(e => {});\n  }\n\n  isQueryReady(query) {\n    return this._coupler.isQueryReady(query);\n  }\n\n  _checkHandle(handle) {\n    if (!handle.belongsTo(this._truss)) {\n      throw new Error('Reference belongs to another Truss instance');\n    }\n  }\n\n  update(ref, method, values) {\n    const numValues = _.size(values);\n    if (!numValues) return;\n    if (method === 'update' || method === 'override') {\n      checkUpdateHasOnlyDescendantsWithNoOverlap(ref.path, values);\n    }\n    this._applyLocalWrite(values, method === 'override');\n    if (method === 'override') return Promise.resolve();\n    const url = this._rootUrl + this._extractCommonPathPrefix(values);\n    return this._dispatcher.execute('write', method, ref, () => {\n      if (numValues === 1) {\n        return this._bridge.set(url, values[''], this._writeSerial);\n      } else {\n        return this._bridge.update(url, values, this._writeSerial);\n      }\n    });\n  }\n\n  commit(ref, updateFunction) {\n    let tries = 0;\n\n    const attemptTransaction = () => {\n      if (tries++ >= 25) return Promise.reject(new Error('maxretry'));\n      const txn = new Transaction();\n      try {\n        updateFunction(txn);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      const oldValue = toFirebaseJson(this.getObject(ref.path));\n      switch (txn.outcome) {\n        case 'abort': return;\n        case 'cancel':\n          break;\n        case 'set':\n          this._applyLocalWrite({[ref.path]: txn.values['']});\n          break;\n        case 'update':\n          checkUpdateHasOnlyDescendantsWithNoOverlap(ref.path, txn.values, true);\n          this._applyLocalWrite(txn.values);\n          break;\n        default:\n          throw new Error('Invalid transaction outcome: ' + (txn.outcome || 'none'));\n      }\n      return this._bridge.transaction(\n        this._rootUrl + ref.path, oldValue, txn.values\n      ).then(committed => {\n        if (!committed) return attemptTransaction();\n        return txn;\n      });\n    };\n\n    return this._truss.peek(ref, () => {\n      return this._dispatcher.execute('write', 'commit', ref, attemptTransaction);\n    });\n  }\n\n  _applyLocalWrite(values, override) {\n    // TODO: correctly apply local writes that impact queries.  Currently, a local write will update\n    // any objects currently selected by a query, but won't add or remove results.\n    this._writeSerial++;\n    this._localWriteTimestamp = this._truss.now;\n    _.each(values, (value, path) => {\n      const coupledDescendantPaths = this._coupler.findCoupledDescendantPaths(path);\n      if (_.isEmpty(coupledDescendantPaths)) return;\n      const offset = (path === '/' ? 0 : path.length) + 1;\n      for (const descendantPath of coupledDescendantPaths) {\n        const subPath = descendantPath.slice(offset);\n        let subValue = value;\n        if (subPath) {\n          const segments = subPath.split('/');\n          for (const segment of segments) {\n            subValue = subValue[unescapeKey(segment)];\n            if (subValue === undefined) break;\n          }\n        }\n        if (subValue === undefined || subValue === null) {\n          this._prune(subPath);\n        } else {\n          const key = unescapeKey(_.last(descendantPath.split('/')));\n          this._plantValue(\n            descendantPath, key, subValue, this._scaffoldAncestors(descendantPath), false,\n            override\n          );\n        }\n        if (!override) this._localWrites[descendantPath] = this._writeSerial;\n      }\n    });\n  }\n\n  _extractCommonPathPrefix(values) {\n    let prefixSegments;\n    _.each(values, (value, path) => {\n      const segments = path === '/' ? [''] : path.split('/');\n      if (prefixSegments) {\n        let firstMismatchIndex = 0;\n        const maxIndex = Math.min(prefixSegments.length, segments.length);\n        while (firstMismatchIndex < maxIndex &&\n               prefixSegments[firstMismatchIndex] === segments[firstMismatchIndex]) {\n          firstMismatchIndex++;\n        }\n        prefixSegments = prefixSegments.slice(0, firstMismatchIndex);\n        if (!prefixSegments.length) return false;\n      } else {\n        prefixSegments = segments;\n      }\n    });\n    const pathPrefix = prefixSegments.length === 1 ? '/' : prefixSegments.join('/');\n    _.each(_.keys(values), key => {\n      values[key.slice(pathPrefix.length + 1)] = values[key];\n      delete values[key];\n    });\n    return pathPrefix;\n  }\n\n  /**\n   * Creates a Truss object and sets all its basic properties: path segment variables, user-defined\n   * properties, and computed properties.  The latter two will be enumerable so that Vue will pick\n   * them up and make the reactive, so you should call _completeCreateObject once it's done so and\n   * before any Firebase properties are added.\n   */\n  _createObject(path, key, parent) {\n    let properties = {\n      // We want Vue to wrap this; we'll make it non-enumerable in _completeCreateObject.\n      $parent: {value: parent, configurable: true, enumerable: true},\n      $path: {value: path},\n      // $$touchThis: {\n      //   value: parent ? () => parent[key] : () => this._vue.$data.$root,\n      //   writable: false, configurable: false, enumerable: false\n      // }\n    };\n    if (path === '/') properties.$truss = {value: this._truss};\n\n    const object = this._modeler.createObject(path, properties, this._truss);\n    Object.defineProperties(object, properties);\n    return object;\n  }\n\n  // To be called on the result of _createObject after it's been inserted into the _vue hierarchy\n  // and Vue has had a chance to initialize it.\n  _completeCreateObject(object) {\n    for (const name of Object.getOwnPropertyNames(object)) {\n      const descriptor = Object.getOwnPropertyDescriptor(object, name);\n      if (descriptor.configurable && descriptor.enumerable) {\n        descriptor.enumerable = false;\n        if (name === '$parent') descriptor.configurable = false;\n        Object.defineProperty(object, name, descriptor);\n      }\n    }\n    if (object.$$initializers) {\n      for (const fn of object.$$initializers) fn(this._vue);\n      delete object.$$initializers;\n    }\n  }\n\n  _destroyObject(object) {\n    if (!(object && object.$truss)) return;\n    if (object.$$finalizers) {\n      // Some destructors remove themselves from the array, so clone it before iterating.\n      for (const fn of _.clone(object.$$finalizers)) fn();\n    }\n    for (const key in object) {\n      if (!Object.hasOwnProperty(object, key)) continue;\n      this._destroyObject(object[key]);\n    }\n  }\n\n  _integrateSnapshot(snap) {\n    _.each(_.keys(this._localWrites), (writeSerial, path) => {\n      if (snap.writeSerial >= writeSerial) delete this._localWrites[path];\n    });\n    if (snap.exists) {\n      const parent = this._scaffoldAncestors(snap.path, true);\n      if (parent) this._plantValue(snap.path, snap.key, snap.value, parent, true, false);\n    } else {\n      this._prune(snap.path, null, true);\n    }\n  }\n\n  _scaffoldAncestors(path, remoteWrite) {\n    let object;\n    const segments = _(path).split('/').dropRight().value();\n    _.each(segments, (segment, i) => {\n      const childKey = unescapeKey(segment);\n      let child = childKey ? object[childKey] : this.root;\n      if (!child) {\n        const ancestorPath = segments.slice(0, i + 1).join('/');\n        if (remoteWrite && this._localWrites[ancestorPath || '/']) return;\n        child = this._plantValue(ancestorPath, childKey, {}, object);\n      }\n      object = child;\n    });\n    return object;\n  }\n\n  _plantValue(path, key, value, parent, remoteWrite, override) {\n    if (value === null || value === undefined) {\n      throw new Error('Snapshot includes invalid value: ' + value);\n    }\n    if (remoteWrite && this._localWrites[path]) return;\n    if (value === SERVER_TIMESTAMP) value = this._localWriteTimestamp;\n    if (!_.isArray(value) && !_.isObject(value)) {\n      this._setFirebaseProperty(parent, key, value);\n      return;\n    }\n    let object = parent[key];\n    if (!_.isObject(object)) {\n      object = this._createObject(path, key, parent);\n      this._setFirebaseProperty(parent, key, object);\n      this._completeCreateObject(object);\n    }\n    if (override) {\n      Object.defineProperty(object, '$overridden', {get: _.constant(true), configurable: true});\n    } else if (object.$overridden) {\n      delete object.$overridden;\n    }\n    _.each(value, (item, escapedChildKey) => {\n      this._plantValue(\n        joinPath(path, escapedChildKey), unescapeKey(escapedChildKey), item, object, remoteWrite,\n        override\n      );\n    });\n    _.each(object, (item, childKey) => {\n      const escapedChildKey = escapeKey(childKey);\n      if (!value.hasOwnProperty(escapedChildKey)) {\n        this._prune(joinPath(path, escapedChildKey), null, remoteWrite);\n      }\n    });\n    this._plantPlaceholders(object, path);\n    return object;\n  }\n\n  _plantPlaceholders(object, path) {\n    this._modeler.forEachPlaceholderChild(path, (escapedKey, placeholder) => {\n      const key = unescapeKey(escapedKey);\n      if (!object.hasOwnProperty(key)) {\n        this._plantValue(joinPath(path, escapedKey), key, placeholder, object);\n      }\n    });\n  }\n\n  _prune(path, lockedDescendantPaths, remoteWrite) {\n    lockedDescendantPaths = lockedDescendantPaths || {};\n    const object = this.getObject(path);\n    if (object === undefined) return;\n    if (remoteWrite && this._avoidLocalWritePaths(path, lockedDescendantPaths)) return;\n    if (!(_.isEmpty(lockedDescendantPaths) && this._pruneAncestors(path, object)) &&\n        _.isObject(object)) {\n      // The target object is a placeholder, and all ancestors are placeholders or otherwise needed\n      // as well, so we can't delete it.  Instead, dive into its descendants to delete what we can.\n      this._pruneDescendants(object, lockedDescendantPaths);\n    }\n  }\n\n  _avoidLocalWritePaths(path, lockedDescendantPaths) {\n    for (const localWritePath in this._localWrites) {\n      if (!this._localWrites.hasOwnProperty(localWritePath)) continue;\n      if (path === localWritePath || localWritePath === '/' ||\n          _.startsWith(path, localWritePath + '/')) return true;\n      if (path === '/' || _.startsWith(localWritePath, path + '/')) {\n        const segments = localWritePath.split('/');\n        for (let i = segments.length; i > 0; i--) {\n          const subPath = segments.slice(0, i).join('/');\n          const active = i === segments.length;\n          if (lockedDescendantPaths[subPath] || lockedDescendantPaths[subPath] === active) break;\n          lockedDescendantPaths[subPath] = active;\n          if (subPath === path) break;\n        }\n      }\n    }\n  }\n\n  _pruneAncestors(targetPath, targetObject) {\n    // Destroy the child (unless it's a placeholder that's still needed) and any ancestors that\n    // are no longer needed to keep this child rooted, and have no other reason to exist.\n    let deleted = false;\n    let object = targetObject;\n    // The target object may be a primitive, in which case it won't have $parent and $key\n    // properties.  In that case, use the target path to figure those out instead.  Note that all\n    // ancestors of the target object will necessarily not be primitives and will have those\n    // properties.\n    const targetSegments = _(targetPath).split('/').map(unescapeKey).value();\n    while (object && object !== this.root) {\n      const parent =\n        object.$parent || object === targetObject && this.getObject(targetSegments.slice(0, -1));\n      if (!this._modeler.isPlaceholder(object.$path)) {\n        const ghostObjects = deleted ? null : [targetObject];\n        if (!this._holdsConcreteData(object, ghostObjects)) {\n          deleted = true;\n          this._deleteFirebaseProperty(\n            parent, object.$key || object === targetObject && _.last(targetSegments));\n        }\n      }\n      object = parent;\n    }\n    return deleted;\n  }\n\n  _holdsConcreteData(object, ghostObjects) {\n    if (ghostObjects && _.includes(ghostObjects, object)) return false;\n    if (_.some(object, value => !value.$truss)) return true;\n    return _.some(object, value => this._holdsConcreteData(value, ghostObjects));\n  }\n\n  _pruneDescendants(object, lockedDescendantPaths) {\n    if (lockedDescendantPaths[object.$path]) return true;\n    if (object.$overridden) delete object.$overridden;\n    let coupledDescendantFound = false;\n    _.each(object, (value, key) => {\n      let shouldDelete = true;\n      let valueLocked;\n      if (lockedDescendantPaths[joinPath(object.$path, escapeKey(key))]) {\n        shouldDelete = false;\n        valueLocked = true;\n      } else if (value.$truss) {\n        const placeholder = this._modeler.isPlaceholder(value.$path);\n        if (placeholder || _.has(lockedDescendantPaths, value.$path)) {\n          valueLocked = this._pruneDescendants(value, lockedDescendantPaths);\n          shouldDelete = !placeholder && !valueLocked;\n        }\n      }\n      if (shouldDelete) this._deleteFirebaseProperty(object, key);\n      coupledDescendantFound = coupledDescendantFound || valueLocked;\n    });\n    return coupledDescendantFound;\n  }\n\n  getObject(pathOrSegments) {\n    let object;\n    const segments = _.isString(pathOrSegments) ?\n      _(pathOrSegments).split('/').map(unescapeKey).value() : pathOrSegments;\n    for (const segment of segments) {\n      object = segment ? object[segment] : this.root;\n      if (object === undefined) return;\n    }\n    return object;\n  }\n\n  _getFirebasePropertyDescriptor(object, key) {\n    let descriptor = Object.getOwnPropertyDescriptor(object, key);\n    if (descriptor) {\n      if (!descriptor.enumerable) {\n        throw new Error(\n          `Key conflict between Firebase and instance or computed properties at ` +\n          `${object.$path}: ${key}`);\n      }\n      if (!descriptor.get || !descriptor.set) {\n        throw new Error(`Unbound property at ${object.$path}: ${key}`);\n      }\n    }\n    return descriptor;\n  }\n\n  _setFirebaseProperty(object, key, value) {\n    let descriptor = this._getFirebasePropertyDescriptor(object, key);\n    if (descriptor) {\n      this._firebasePropertyEditAllowed = true;\n      object[key] = value;\n      this._firebasePropertyEditAllowed = false;\n    } else {\n      Vue.set(object, key, value);\n      descriptor = Object.getOwnPropertyDescriptor(object, key);\n      Object.defineProperty(object, key, {\n        get: descriptor.get, set: this._overwriteFirebaseProperty.bind(this, descriptor, key),\n        configurable: true, enumerable: true\n      });\n    }\n  }\n\n  _overwriteFirebaseProperty(descriptor, key, newValue) {\n    if (!this._firebasePropertyEditAllowed) {\n      throw new Error(`Firebase data cannot be mutated directly: ${key}`);\n    }\n    descriptor.set.call(this, newValue);\n  }\n\n  _deleteFirebaseProperty(object, key) {\n    // Make sure it's actually a Firebase property.\n    this._getFirebasePropertyDescriptor(object, key);\n    this._destroyObject(object[key]);\n    Vue.delete(object, key);\n  }\n\n  checkVueObject(object, path) {\n    this._modeler.checkVueObject(object, path);\n  }\n\n  static get computedPropertyStats() {\n    return Modeler.computedPropertyStats;\n  }\n}\n\n\nexport function checkUpdateHasOnlyDescendantsWithNoOverlap(rootPath, values, relativizePaths) {\n  // First, check all paths for correctness and absolutize them, since there could be a mix of\n  // absolute paths and relative keys.\n  _.each(_.keys(values), path => {\n    if (path.charAt(0) === '/') {\n      if (!(path === rootPath || rootPath === '/' ||\n            _.startsWith(path, rootPath + '/') && path.length > rootPath.length + 1)) {\n        throw new Error(`Update item is not a descendant of target ref: ${path}`);\n      }\n    } else {\n      if (path.indexOf('/') >= 0) {\n        throw new Error(`Update item deep path must be absolute, taken from a reference: ${path}`);\n      }\n      const absolutePath = joinPath(rootPath, escapeKey(path));\n      if (values.hasOwnProperty(absolutePath)) {\n        throw new Error(`Update items overlap: ${path} and ${absolutePath}`);\n      }\n      values[absolutePath] = values[path];\n      delete values[path];\n    }\n  });\n  // Then check for overlaps and relativize if desired.\n  const allPaths = _(values).keys().map(path => joinPath(path, '')).sortBy('length').value();\n  _.each(_.keys(values), path => {\n    for (const otherPath of allPaths) {\n      if (otherPath.length > path.length) break;\n      if (path !== otherPath && _.startsWith(path, otherPath)) {\n        throw new Error(`Update items overlap: ${otherPath} and ${path}`);\n      }\n    }\n    if (relativizePaths) {\n      values[path.slice(rootPath === '/' ? 1 : rootPath.length + 1)] = values[path];\n      delete values[path];\n    }\n  });\n}\n\nexport function toFirebaseJson(object) {\n  if (typeof object === 'object') {\n    const result = {};\n    for (const key in object) {\n      if (!object.hasOwnProperty(key)) continue;\n      result[escapeKey(key)] = toFirebaseJson(object[key]);\n    }\n    return result;\n  } else {\n    return object;\n  }\n}\n\n","import _ from 'lodash';\nimport Vue from 'vue';\nimport angularCompatibility from './angularCompatibility.js';\nimport Bridge from './Bridge.js';\nimport Connector from './Connector.js';\nimport Dispatcher from './Dispatcher.js';\nimport KeyGenerator from './KeyGenerator.js';\nimport MetaTree from './MetaTree.js';\nimport {Handle, Reference} from './Reference.js';\nimport Tree from './Tree.js';\nimport {escapeKey, unescapeKey, wrapPromiseCallback, SERVER_TIMESTAMP} from './utils.js';\n\n\nlet bridge, logging;\nconst workerFunctions = {};\n// This version is filled in by the build, don't reformat the line.\nconst VERSION = 'dev';\n\n\nexport default class Truss {\n\n  /**\n   * Create a new Truss instance, specific to a given datastore.  To avoid confusion there should be\n   * exactly one Truss per root datastore URL, so in most code this will be a singleton.\n   *\n   * @param rootUrl {String} The root URL, https://{project}.firebaseio.com.\n   * @param classes {Array<Function>} A list of the classes to map onto the datastore structure.\n   *    Each class must have a static $trussMount property that is a (wildcarded) datastore path, or\n   *    an options object {path: string, placeholder: object}, or an array of either.\n   */\n  constructor(rootUrl, classes) {\n    // TODO: allow rootUrl to be a test database object for testing\n    if (!bridge) {\n      throw new Error('Truss worker not connected, please call Truss.connectWorker first');\n    }\n    this._rootUrl = rootUrl.replace(/\\/$/, '');\n    this._keyGenerator = new KeyGenerator();\n    this._dispatcher = new Dispatcher(bridge);\n    this._vue = new Vue();\n\n    bridge.trackServer(this._rootUrl);\n    this._metaTree = new MetaTree(this._rootUrl, bridge);\n    this._tree = new Tree(this, this._rootUrl, bridge, this._dispatcher);\n    this._tree.init(classes);\n  }\n\n  get meta() {return this._metaTree.root;}\n  get root() {return this._tree.root;}\n\n  destroy() {\n    this._vue.$destroy();\n    this._tree.destroy();\n    this._metaTree.destroy();\n  }\n\n  get now() {return Date.now() + this.meta.timeOffset;}\n  newKey() {return this._keyGenerator.generateUniqueKey(this.now);}\n\n  authenticate(token) {\n    return this._dispatcher.execute('auth', 'authenticate', new Reference(this._tree, '/'), () => {\n      return bridge.authWithCustomToken(this._rootUrl, token, {rememberMe: true});\n    });\n  }\n\n  unauthenticate() {\n    return this._dispatcher.execute(\n      'auth', 'unauthenticate', new Reference(this._tree, '/'), () => {\n        return bridge.unauth(this._rootUrl);\n      }\n    );\n  }\n\n  intercept(actionType, callbacks) {\n    return this._dispatcher.intercept(actionType, callbacks);\n  }\n\n  // connections are {key: Query | Object | fn() -> (Query | Object)}\n  connect(scope, connections) {\n    if (!connections) {\n      connections = scope;\n      scope = undefined;\n      if (connections instanceof Handle) connections = {_: connections};\n    }\n    return new Connector(scope, connections, this._tree, 'connect');\n  }\n\n  // target is Reference, Query, or connection Object like above\n  peek(target, callback) {\n    callback = wrapPromiseCallback(callback);\n    return new Promise((resolve, reject) => {\n      const scope = {};\n      const connector = new Connector(scope, {result: target}, this._tree, 'peek');\n      const unwatch = this._vue.$watch(() => connector.ready, ready => {\n        if (!ready) return;\n        unwatch();\n        callback(scope.result).then(result => {\n          connector.destroy();\n          resolve(result);\n        }, error => {\n          connector.destroy();\n          reject(error);\n        });\n      });\n    });\n  }\n\n  watch(subjectFn, callbackFn, options) {\n    let numCallbacks = 0;\n\n    const unwatch = this._vue.$watch(subjectFn, (newValue, oldValue) => {\n      numCallbacks++;\n      if (numCallbacks === 1) {\n        // Delay the immediate callback until we've had a chance to return the unwatch function.\n        Promise.resolve().then(() => {\n          if (numCallbacks > 1) return;\n          if (subjectFn() !== newValue) return;\n          callbackFn(newValue, oldValue);\n          angularCompatibility.digest();\n        });\n      } else {\n        callbackFn(newValue, oldValue);\n        angularCompatibility.digest();\n      }\n    }, {immediate: true, deep: options && options.deep});\n\n    return unwatch;\n  }\n\n  when(expression, options) {\n    let unwatch;\n    const promise = new Promise(resolve => {\n      unwatch = this.watch(expression, value => {\n        if (value !== undefined && value !== null) {\n          promise.cancel();\n          resolve(value);\n        }\n      }, options);\n    });\n    promise.cancel = unwatch;\n    return promise;\n  }\n\n  checkObjectsForRogueProperties() {\n    this._tree.checkVueObject(this._tree.root, '/');\n  }\n\n  static get computedPropertyStats() {return this._tree.computedPropertyStats;}\n\n  static connectWorker(webWorker) {\n    if (bridge) throw new Error('Worker already connected');\n    if (_.isString(webWorker)) {\n      const Worker = window.SharedWorker || window.Worker;\n      if (!Worker) throw new Error('Browser does not implement Web Workers');\n      webWorker = new Worker(webWorker);\n    }\n    bridge = new Bridge(webWorker);\n    if (logging) bridge.enableLogging(logging);\n    return bridge.init(webWorker).then(\n      ({exposedFunctionNames, firebaseSdkVersion}) => {\n        Object.defineProperty(Truss, 'FIREBASE_SDK_VERSION', {value: firebaseSdkVersion});\n        for (const name of exposedFunctionNames) {\n          Truss.worker[name] = bridge.bindExposedFunction(name);\n        }\n      }\n    );\n  }\n\n  static get worker() {return workerFunctions;}\n  static preExpose(functionName) {\n    Truss.worker[functionName] = bridge.bindExposedFunction(functionName);\n  }\n\n  static bounceConnection() {return bridge.bounceConnection();}\n  static suspend() {return bridge.suspend();}\n  static debugPermissionDeniedErrors(simulatedTokenGenerator, maxSimulationDuration, callFilter) {\n    return bridge.debugPermissionDeniedErrors(\n      simulatedTokenGenerator, maxSimulationDuration, callFilter);\n  }\n\n  static debounceAngularDigest(wait) {\n    angularCompatibility.debounceDigest(wait);\n  }\n\n  static escapeKey(key) {return escapeKey(key);}\n  static unescapeKey(escapedKey) {return unescapeKey(escapedKey);}\n\n  static enableLogging(fn) {\n    logging = fn;\n    if (bridge) bridge.enableLogging(fn);\n  }\n\n  // Duplicate static constants on instance for convenience.\n  get SERVER_TIMESTAMP() {return Truss.SERVER_TIMESTAMP;}\n  get VERSION() {return Truss.VERSION;}\n  get FIREBASE_SDK_VERSION() {return Truss.FIREBASE_SDK_VERSION;}\n}\n\nObject.defineProperties(Truss, {\n  SERVER_TIMESTAMP: {value: SERVER_TIMESTAMP},\n  VERSION: {value: VERSION}\n});\n\nangularCompatibility.defineModule(Truss);\n"],"names":["let","const","this","prototypeAccessors","id","noop","arguments","super","angular","updateFn","childKey","i","angularCompatibility","listener","key","prototypeAccessors$1","name","staticAccessors"],"mappings":"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"}